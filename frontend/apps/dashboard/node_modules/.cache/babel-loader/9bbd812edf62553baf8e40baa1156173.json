{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport shallowEqual from '../utils/shallowEqual';\nexport function isEveryChildChecked(node, nodes, props) {\n  var childrenKey = props.childrenKey;\n  var children = null;\n\n  if (node[childrenKey]) {\n    children = node[childrenKey].filter(function (child) {\n      return nodes[child.refKey] && !nodes[child.refKey].uncheckable;\n    });\n\n    if (!children.length) {\n      return nodes[node.refKey].check;\n    }\n\n    return children.every(function (child) {\n      var _child$childrenKey;\n\n      if ((_child$childrenKey = child[childrenKey]) === null || _child$childrenKey === void 0 ? void 0 : _child$childrenKey.length) {\n        return isEveryChildChecked(child, nodes, props);\n      }\n\n      return nodes[child.refKey].check;\n    });\n  }\n\n  return nodes[node.refKey].check;\n}\nexport function isSomeChildChecked(node, nodes, props) {\n  var childrenKey = props.childrenKey;\n\n  if (!node[childrenKey]) {\n    return false;\n  }\n\n  return node[childrenKey].some(function (child) {\n    var _nodes$child$refKey;\n\n    if ((_nodes$child$refKey = nodes[child.refKey]) === null || _nodes$child$refKey === void 0 ? void 0 : _nodes$child$refKey.check) {\n      return true;\n    }\n\n    return isSomeChildChecked(child, nodes, props);\n  });\n}\n/**\n * 判断第一层节点是否存在有children的节点\n * @param {*} data\n */\n\nexport function isSomeNodeHasChildren(data, childrenKey) {\n  return data.some(function (node) {\n    return node[childrenKey];\n  });\n}\n/**\n * 获取该节点的兄弟节点是否都为 uncheckable\n * @param {*} node\n */\n\nexport function getSiblingNodeUncheckable(node, nodes) {\n  var list = [];\n  var parentNodeRefkey = node.parentNode ? node.parentNode.refKey : '';\n  Object.keys(nodes).forEach(function (refKey) {\n    var _curNode$parentNode;\n\n    var curNode = nodes[refKey];\n\n    if (_isUndefined(node.parentNode) && _isUndefined(curNode.parentNode)) {\n      list.push(curNode);\n    } else if (((_curNode$parentNode = curNode.parentNode) === null || _curNode$parentNode === void 0 ? void 0 : _curNode$parentNode.refKey) === parentNodeRefkey) {\n      list.push(curNode);\n    }\n  });\n  return list.every(function (node) {\n    return node.uncheckable;\n  });\n}\n/**\n * 获取第一层节点是否全部都为 uncheckable\n */\n\nexport function getEveryFisrtLevelNodeUncheckable(nodes) {\n  var list = [];\n  Object.keys(nodes).forEach(function (refKey) {\n    var curNode = nodes[refKey];\n\n    if (!curNode.parentNode) {\n      list.push(curNode);\n    }\n  });\n  return list.every(function (node) {\n    return node.uncheckable;\n  });\n}\n/**\n * 获取节点的是否需要隐藏checkbox\n * @param {*} node\n */\n\nexport function getUncheckableState(node, props) {\n  var _props$uncheckableIte = props.uncheckableItemValues,\n      uncheckableItemValues = _props$uncheckableIte === void 0 ? [] : _props$uncheckableIte,\n      valueKey = props.valueKey;\n  return uncheckableItemValues.some(function (value) {\n    return shallowEqual(node[valueKey], value);\n  });\n}\n/**\n * 获取格式化后的树\n * @param data\n * @param nodes\n * @param props\n */\n\nexport function getFormattedTree(data, nodes, props) {\n  var childrenKey = props.childrenKey;\n  return data.map(function (node) {\n    var formatted = _extends({}, node);\n\n    var curNode = nodes[node.refKey];\n\n    if (curNode) {\n      var _node$childrenKey;\n\n      formatted.check = curNode.check;\n      formatted.expand = curNode.expand;\n      formatted.uncheckable = curNode.uncheckable;\n      formatted.parentNode = curNode.parentNode;\n\n      if (((_node$childrenKey = node[childrenKey]) === null || _node$childrenKey === void 0 ? void 0 : _node$childrenKey.length) > 0) {\n        formatted[childrenKey] = getFormattedTree(formatted[childrenKey], nodes, props);\n      }\n    }\n\n    return formatted;\n  });\n}\n/**\n * 获取每个节点的disable状态\n * @param {*} node\n */\n\nexport function getDisabledState(nodes, node, props) {\n  var _props$disabledItemVa = props.disabledItemValues,\n      disabledItemValues = _props$disabledItemVa === void 0 ? [] : _props$disabledItemVa,\n      valueKey = props.valueKey;\n  return disabledItemValues.some(function (value) {\n    return shallowEqual(nodes[node.refKey][valueKey], value);\n  });\n}","map":{"version":3,"names":["_extends","_isUndefined","shallowEqual","isEveryChildChecked","node","nodes","props","childrenKey","children","filter","child","refKey","uncheckable","length","check","every","_child$childrenKey","isSomeChildChecked","some","_nodes$child$refKey","isSomeNodeHasChildren","data","getSiblingNodeUncheckable","list","parentNodeRefkey","parentNode","Object","keys","forEach","_curNode$parentNode","curNode","push","getEveryFisrtLevelNodeUncheckable","getUncheckableState","_props$uncheckableIte","uncheckableItemValues","valueKey","value","getFormattedTree","map","formatted","_node$childrenKey","expand","getDisabledState","_props$disabledItemVa","disabledItemValues"],"sources":["/Users/lixupeng/Local-Work/frontend/apps/dashboard/node_modules/rsuite/es/CheckTreePicker/utils.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport shallowEqual from '../utils/shallowEqual';\nexport function isEveryChildChecked(node, nodes, props) {\n  var childrenKey = props.childrenKey;\n  var children = null;\n\n  if (node[childrenKey]) {\n    children = node[childrenKey].filter(function (child) {\n      return nodes[child.refKey] && !nodes[child.refKey].uncheckable;\n    });\n\n    if (!children.length) {\n      return nodes[node.refKey].check;\n    }\n\n    return children.every(function (child) {\n      var _child$childrenKey;\n\n      if ((_child$childrenKey = child[childrenKey]) === null || _child$childrenKey === void 0 ? void 0 : _child$childrenKey.length) {\n        return isEveryChildChecked(child, nodes, props);\n      }\n\n      return nodes[child.refKey].check;\n    });\n  }\n\n  return nodes[node.refKey].check;\n}\nexport function isSomeChildChecked(node, nodes, props) {\n  var childrenKey = props.childrenKey;\n\n  if (!node[childrenKey]) {\n    return false;\n  }\n\n  return node[childrenKey].some(function (child) {\n    var _nodes$child$refKey;\n\n    if ((_nodes$child$refKey = nodes[child.refKey]) === null || _nodes$child$refKey === void 0 ? void 0 : _nodes$child$refKey.check) {\n      return true;\n    }\n\n    return isSomeChildChecked(child, nodes, props);\n  });\n}\n/**\n * 判断第一层节点是否存在有children的节点\n * @param {*} data\n */\n\nexport function isSomeNodeHasChildren(data, childrenKey) {\n  return data.some(function (node) {\n    return node[childrenKey];\n  });\n}\n/**\n * 获取该节点的兄弟节点是否都为 uncheckable\n * @param {*} node\n */\n\nexport function getSiblingNodeUncheckable(node, nodes) {\n  var list = [];\n  var parentNodeRefkey = node.parentNode ? node.parentNode.refKey : '';\n  Object.keys(nodes).forEach(function (refKey) {\n    var _curNode$parentNode;\n\n    var curNode = nodes[refKey];\n\n    if (_isUndefined(node.parentNode) && _isUndefined(curNode.parentNode)) {\n      list.push(curNode);\n    } else if (((_curNode$parentNode = curNode.parentNode) === null || _curNode$parentNode === void 0 ? void 0 : _curNode$parentNode.refKey) === parentNodeRefkey) {\n      list.push(curNode);\n    }\n  });\n  return list.every(function (node) {\n    return node.uncheckable;\n  });\n}\n/**\n * 获取第一层节点是否全部都为 uncheckable\n */\n\nexport function getEveryFisrtLevelNodeUncheckable(nodes) {\n  var list = [];\n  Object.keys(nodes).forEach(function (refKey) {\n    var curNode = nodes[refKey];\n\n    if (!curNode.parentNode) {\n      list.push(curNode);\n    }\n  });\n  return list.every(function (node) {\n    return node.uncheckable;\n  });\n}\n/**\n * 获取节点的是否需要隐藏checkbox\n * @param {*} node\n */\n\nexport function getUncheckableState(node, props) {\n  var _props$uncheckableIte = props.uncheckableItemValues,\n      uncheckableItemValues = _props$uncheckableIte === void 0 ? [] : _props$uncheckableIte,\n      valueKey = props.valueKey;\n  return uncheckableItemValues.some(function (value) {\n    return shallowEqual(node[valueKey], value);\n  });\n}\n/**\n * 获取格式化后的树\n * @param data\n * @param nodes\n * @param props\n */\n\nexport function getFormattedTree(data, nodes, props) {\n  var childrenKey = props.childrenKey;\n  return data.map(function (node) {\n    var formatted = _extends({}, node);\n\n    var curNode = nodes[node.refKey];\n\n    if (curNode) {\n      var _node$childrenKey;\n\n      formatted.check = curNode.check;\n      formatted.expand = curNode.expand;\n      formatted.uncheckable = curNode.uncheckable;\n      formatted.parentNode = curNode.parentNode;\n\n      if (((_node$childrenKey = node[childrenKey]) === null || _node$childrenKey === void 0 ? void 0 : _node$childrenKey.length) > 0) {\n        formatted[childrenKey] = getFormattedTree(formatted[childrenKey], nodes, props);\n      }\n    }\n\n    return formatted;\n  });\n}\n/**\n * 获取每个节点的disable状态\n * @param {*} node\n */\n\nexport function getDisabledState(nodes, node, props) {\n  var _props$disabledItemVa = props.disabledItemValues,\n      disabledItemValues = _props$disabledItemVa === void 0 ? [] : _props$disabledItemVa,\n      valueKey = props.valueKey;\n  return disabledItemValues.some(function (value) {\n    return shallowEqual(nodes[node.refKey][valueKey], value);\n  });\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}