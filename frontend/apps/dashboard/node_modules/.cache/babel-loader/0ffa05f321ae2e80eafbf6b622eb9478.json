{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport isFunction from 'lodash/isFunction';\nimport flatten from 'lodash/flatten';\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\nimport eq from 'lodash/eq';\nimport omit from 'lodash/omit';\nimport merge from 'lodash/merge';\nimport bindElementResize, { unbind as unbindElementResize } from 'element-resize-event';\nimport { getTranslateDOMPositionXY } from 'dom-lib/lib/transition/translateDOMPositionXY';\nimport { addStyle, getWidth, getHeight, WheelHandler, scrollLeft, scrollTop, on, getOffset } from 'dom-lib';\nimport Row from './Row';\nimport CellGroup from './CellGroup';\nimport Scrollbar from './Scrollbar';\nimport TableContext from './TableContext';\nimport { SCROLLBAR_WIDTH, CELL_PADDING_HEIGHT } from './constants';\nimport { getTotalByColumns, mergeCells, getUnhandledProps, defaultClassPrefix, toggleClass, flattenData, prefix, requestAnimationTimeout, cancelAnimationTimeout, isRTL as _isRTL, isNumberOrTrue, findRowKeys, findAllParents, shouldShowRowByExpanded, resetLeftForCells } from './utils';\nimport ColumnGroup from './ColumnGroup';\nimport { isFragment } from 'react-is';\nvar SORT_TYPE = {\n  DESC: 'desc',\n  ASC: 'asc'\n};\nvar propTypes = {\n  autoHeight: PropTypes.bool,\n  affixHeader: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  affixHorizontalScrollbar: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  bordered: PropTypes.bool,\n  bodyRef: PropTypes.func,\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  children: PropTypes.any,\n  cellBordered: PropTypes.bool,\n  data: PropTypes.arrayOf(PropTypes.object),\n  defaultExpandAllRows: PropTypes.bool,\n  defaultExpandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  defaultSortType: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  disabledScroll: PropTypes.bool,\n  expandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  hover: PropTypes.bool,\n  height: PropTypes.number,\n  headerHeight: PropTypes.number,\n  locale: PropTypes.object,\n  loading: PropTypes.bool,\n  loadAnimation: PropTypes.bool,\n  minHeight: PropTypes.number,\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  rowHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  renderTreeToggle: PropTypes.func,\n  renderRowExpanded: PropTypes.func,\n  rowExpandedHeight: PropTypes.number,\n  renderEmpty: PropTypes.func,\n  renderLoading: PropTypes.func,\n  rowClassName: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  rtl: PropTypes.bool,\n  style: PropTypes.object,\n  sortColumn: PropTypes.string,\n  sortType: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  showHeader: PropTypes.bool,\n  shouldUpdateScroll: PropTypes.bool,\n  translate3d: PropTypes.bool,\n  wordWrap: PropTypes.bool,\n  width: PropTypes.number,\n  virtualized: PropTypes.bool,\n  isTree: PropTypes.bool,\n  onRowClick: PropTypes.func,\n  onRowContextMenu: PropTypes.func,\n  onScroll: PropTypes.func,\n  onSortColumn: PropTypes.func,\n  onExpandChange: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  onTouchMove: PropTypes.func,\n  onDataUpdated: PropTypes.func\n};\n\nvar Table = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Table, _React$Component);\n\n  Table.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (props.data !== state.cacheData || props.isTree !== state.isTree) {\n      return {\n        cacheData: props.data,\n        isTree: props.isTree,\n        data: props.isTree ? flattenData(props.data) : props.data\n      };\n    }\n\n    return null;\n  };\n\n  function Table(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.translateDOMPositionXY = null;\n    _this.scrollListener = null;\n    _this.tableRef = void 0;\n    _this.scrollbarYRef = void 0;\n    _this.scrollbarXRef = void 0;\n    _this.tableBodyRef = void 0;\n    _this.affixHeaderWrapperRef = void 0;\n    _this.mouseAreaRef = void 0;\n    _this.headerWrapperRef = void 0;\n    _this.tableHeaderRef = void 0;\n    _this.wheelWrapperRef = void 0;\n    _this.tableRows = {};\n    _this.mounted = false;\n    _this.disableEventsTimeoutId = null;\n    _this.scrollY = 0;\n    _this.scrollX = 0;\n    _this.wheelHandler = void 0;\n    _this.minScrollY = void 0;\n    _this.minScrollX = void 0;\n    _this.mouseArea = void 0;\n    _this.touchX = void 0;\n    _this.touchY = void 0;\n    _this.wheelListener = void 0;\n    _this.touchStartListener = void 0;\n    _this.touchMoveListener = void 0;\n    _this._cacheCells = null;\n    _this._cacheChildrenSize = 0;\n    _this._visibleRows = [];\n\n    _this.listenWheel = function (deltaX, deltaY) {\n      var _this$scrollbarXRef$c, _this$scrollbarXRef$c2, _this$scrollbarYRef$c, _this$scrollbarYRef$c2;\n\n      _this.handleWheel(deltaX, deltaY);\n\n      (_this$scrollbarXRef$c = _this.scrollbarXRef.current) === null || _this$scrollbarXRef$c === void 0 ? void 0 : (_this$scrollbarXRef$c2 = _this$scrollbarXRef$c.onWheelScroll) === null || _this$scrollbarXRef$c2 === void 0 ? void 0 : _this$scrollbarXRef$c2.call(_this$scrollbarXRef$c, deltaX);\n      (_this$scrollbarYRef$c = _this.scrollbarYRef.current) === null || _this$scrollbarYRef$c === void 0 ? void 0 : (_this$scrollbarYRef$c2 = _this$scrollbarYRef$c.onWheelScroll) === null || _this$scrollbarYRef$c2 === void 0 ? void 0 : _this$scrollbarYRef$c2.call(_this$scrollbarYRef$c, deltaY);\n    };\n\n    _this.setOffsetByAffix = function () {\n      var _this$headerWrapperRe, _this$tableRef;\n\n      var _this$props = _this.props,\n          affixHeader = _this$props.affixHeader,\n          affixHorizontalScrollbar = _this$props.affixHorizontalScrollbar;\n      var headerNode = (_this$headerWrapperRe = _this.headerWrapperRef) === null || _this$headerWrapperRe === void 0 ? void 0 : _this$headerWrapperRe.current;\n\n      if (isNumberOrTrue(affixHeader) && headerNode) {\n        _this.setState(function () {\n          return {\n            headerOffset: getOffset(headerNode)\n          };\n        });\n      }\n\n      var tableNode = (_this$tableRef = _this.tableRef) === null || _this$tableRef === void 0 ? void 0 : _this$tableRef.current;\n\n      if (isNumberOrTrue(affixHorizontalScrollbar) && tableNode) {\n        _this.setState(function () {\n          return {\n            tableOffset: getOffset(tableNode)\n          };\n        });\n      }\n    };\n\n    _this.handleWindowScroll = function () {\n      var _this$props2 = _this.props,\n          affixHeader = _this$props2.affixHeader,\n          affixHorizontalScrollbar = _this$props2.affixHorizontalScrollbar;\n\n      if (isNumberOrTrue(affixHeader)) {\n        _this.affixTableHeader();\n      }\n\n      if (isNumberOrTrue(affixHorizontalScrollbar)) {\n        _this.affixHorizontalScrollbar();\n      }\n    };\n\n    _this.affixHorizontalScrollbar = function () {\n      var _this$scrollbarXRef, _this$scrollbarXRef$c3, _this$scrollbarXRef$c4;\n\n      var scrollY = window.scrollY || window.pageYOffset;\n      var windowHeight = getHeight(window);\n\n      var height = _this.getTableHeight();\n\n      var _this$state = _this.state,\n          tableOffset = _this$state.tableOffset,\n          fixedHorizontalScrollbar = _this$state.fixedHorizontalScrollbar;\n      var affixHorizontalScrollbar = _this.props.affixHorizontalScrollbar;\n\n      var headerHeight = _this.getTableHeaderHeight();\n\n      var bottom = typeof affixHorizontalScrollbar === 'number' ? affixHorizontalScrollbar : 0;\n      var fixedScrollbar = scrollY + windowHeight < height + (tableOffset.top + bottom) && scrollY + windowHeight - headerHeight > tableOffset.top + bottom;\n\n      if ((_this$scrollbarXRef = _this.scrollbarXRef) !== null && _this$scrollbarXRef !== void 0 && (_this$scrollbarXRef$c3 = _this$scrollbarXRef.current) !== null && _this$scrollbarXRef$c3 !== void 0 && (_this$scrollbarXRef$c4 = _this$scrollbarXRef$c3.barRef) !== null && _this$scrollbarXRef$c4 !== void 0 && _this$scrollbarXRef$c4.current && fixedHorizontalScrollbar !== fixedScrollbar) {\n        _this.setState({\n          fixedHorizontalScrollbar: fixedScrollbar\n        });\n      }\n    };\n\n    _this.affixTableHeader = function () {\n      var affixHeader = _this.props.affixHeader;\n      var top = typeof affixHeader === 'number' ? affixHeader : 0;\n      var _this$state2 = _this.state,\n          headerOffset = _this$state2.headerOffset,\n          contentHeight = _this$state2.contentHeight;\n      var scrollY = window.scrollY || window.pageYOffset;\n      var fixedHeader = scrollY - (headerOffset.top - top) >= 0 && scrollY < headerOffset.top - top + contentHeight;\n\n      if (_this.affixHeaderWrapperRef.current) {\n        toggleClass(_this.affixHeaderWrapperRef.current, 'fixed', fixedHeader);\n      }\n    };\n\n    _this.handleSortColumn = function (dataKey) {\n      var _this$props$onSortCol, _this$props3;\n\n      var sortType = _this.getSortType();\n\n      if (_this.props.sortColumn === dataKey) {\n        sortType = sortType === SORT_TYPE.ASC ? SORT_TYPE.DESC : SORT_TYPE.ASC;\n\n        _this.setState({\n          sortType: sortType\n        });\n      }\n\n      (_this$props$onSortCol = (_this$props3 = _this.props).onSortColumn) === null || _this$props$onSortCol === void 0 ? void 0 : _this$props$onSortCol.call(_this$props3, dataKey, sortType);\n    };\n\n    _this.handleColumnResizeEnd = function (columnWidth, _cursorDelta, dataKey, index) {\n      var _this$setState;\n\n      _this._cacheCells = null;\n\n      _this.setState((_this$setState = {\n        isColumnResizing: false\n      }, _this$setState[dataKey + \"_\" + index + \"_width\"] = columnWidth, _this$setState));\n\n      addStyle(_this.mouseAreaRef.current, {\n        display: 'none'\n      });\n    };\n\n    _this.handleColumnResizeStart = function (width, left, fixed) {\n      _this.setState({\n        isColumnResizing: true\n      });\n\n      _this.handleColumnResizeMove(width, left, fixed);\n    };\n\n    _this.handleColumnResizeMove = function (width, left, fixed) {\n      var _addStyle;\n\n      var mouseAreaLeft = width + left;\n      var x = mouseAreaLeft;\n      var dir = 'left';\n\n      if (_this.isRTL()) {\n        mouseAreaLeft += _this.minScrollX + SCROLLBAR_WIDTH;\n        dir = 'right';\n      }\n\n      if (!fixed) {\n        x = mouseAreaLeft + (_this.isRTL() ? -_this.scrollX : _this.scrollX);\n      }\n\n      addStyle(_this.mouseAreaRef.current, (_addStyle = {\n        display: 'block'\n      }, _addStyle[dir] = x + \"px\", _addStyle));\n    };\n\n    _this.handleTreeToggle = function (rowKey, _rowIndex, rowData) {\n      var _this$props$onExpandC, _this$props4;\n\n      var expandedRowKeys = _this.getExpandedRowKeys();\n\n      var open = false;\n      var nextExpandedRowKeys = [];\n\n      for (var i = 0; i < expandedRowKeys.length; i++) {\n        var _key = expandedRowKeys[i];\n\n        if (_key === rowKey) {\n          open = true;\n        } else {\n          nextExpandedRowKeys.push(_key);\n        }\n      }\n\n      if (!open) {\n        nextExpandedRowKeys.push(rowKey);\n      }\n\n      _this.setState({\n        expandedRowKeys: nextExpandedRowKeys\n      });\n\n      (_this$props$onExpandC = (_this$props4 = _this.props).onExpandChange) === null || _this$props$onExpandC === void 0 ? void 0 : _this$props$onExpandC.call(_this$props4, !open, rowData);\n    };\n\n    _this.handleScrollX = function (delta) {\n      _this.handleWheel(delta, 0);\n    };\n\n    _this.handleScrollY = function (delta) {\n      _this.handleWheel(0, delta);\n    };\n\n    _this.handleWheel = function (deltaX, deltaY) {\n      var _this$props5 = _this.props,\n          onScroll = _this$props5.onScroll,\n          virtualized = _this$props5.virtualized;\n      var _this$state3 = _this.state,\n          contentWidth = _this$state3.contentWidth,\n          width = _this$state3.width;\n\n      if (!_this.tableRef.current) {\n        return;\n      }\n\n      var nextScrollX = contentWidth <= width ? 0 : _this.scrollX - deltaX;\n      var nextScrollY = _this.scrollY - deltaY;\n      _this.scrollY = Math.min(0, nextScrollY < _this.minScrollY ? _this.minScrollY : nextScrollY);\n      _this.scrollX = Math.min(0, nextScrollX < _this.minScrollX ? _this.minScrollX : nextScrollX);\n\n      _this.updatePosition();\n\n      onScroll === null || onScroll === void 0 ? void 0 : onScroll(_this.scrollX, _this.scrollY);\n\n      if (virtualized) {\n        _this.setState({\n          isScrolling: true,\n          scrollY: _this.scrollY\n        });\n\n        if (_this.disableEventsTimeoutId) {\n          cancelAnimationTimeout(_this.disableEventsTimeoutId);\n        }\n\n        _this.disableEventsTimeoutId = requestAnimationTimeout(_this.debounceScrollEndedCallback, 150);\n      }\n    };\n\n    _this.debounceScrollEndedCallback = function () {\n      _this.disableEventsTimeoutId = null;\n\n      _this.setState({\n        isScrolling: false\n      });\n    };\n\n    _this.handleTouchStart = function (event) {\n      var _this$props$onTouchSt, _this$props6;\n\n      if (event.touches) {\n        var _event$touches$ = event.touches[0],\n            pageX = _event$touches$.pageX,\n            pageY = _event$touches$.pageY;\n        _this.touchX = pageX;\n        _this.touchY = pageY;\n      }\n\n      (_this$props$onTouchSt = (_this$props6 = _this.props).onTouchStart) === null || _this$props$onTouchSt === void 0 ? void 0 : _this$props$onTouchSt.call(_this$props6, event);\n    };\n\n    _this.handleTouchMove = function (event) {\n      var _this$props$onTouchMo, _this$props7;\n\n      var autoHeight = _this.props.autoHeight;\n\n      if (event.touches) {\n        var _event$preventDefault, _this$scrollbarXRef$c5, _this$scrollbarXRef$c6, _this$scrollbarYRef$c3, _this$scrollbarYRef$c4;\n\n        var _event$touches$2 = event.touches[0],\n            pageX = _event$touches$2.pageX,\n            pageY = _event$touches$2.pageY;\n        var deltaX = _this.touchX - pageX;\n        var deltaY = autoHeight ? 0 : _this.touchY - pageY;\n\n        if (!_this.shouldHandleWheelY(deltaY) && !_this.shouldHandleWheelX(deltaX)) {\n          return;\n        }\n\n        (_event$preventDefault = event.preventDefault) === null || _event$preventDefault === void 0 ? void 0 : _event$preventDefault.call(event);\n\n        _this.handleWheel(deltaX, deltaY);\n\n        (_this$scrollbarXRef$c5 = _this.scrollbarXRef.current) === null || _this$scrollbarXRef$c5 === void 0 ? void 0 : (_this$scrollbarXRef$c6 = _this$scrollbarXRef$c5.onWheelScroll) === null || _this$scrollbarXRef$c6 === void 0 ? void 0 : _this$scrollbarXRef$c6.call(_this$scrollbarXRef$c5, deltaX);\n        (_this$scrollbarYRef$c3 = _this.scrollbarYRef.current) === null || _this$scrollbarYRef$c3 === void 0 ? void 0 : (_this$scrollbarYRef$c4 = _this$scrollbarYRef$c3.onWheelScroll) === null || _this$scrollbarYRef$c4 === void 0 ? void 0 : _this$scrollbarYRef$c4.call(_this$scrollbarYRef$c3, deltaY);\n        _this.touchX = pageX;\n        _this.touchY = pageY;\n      }\n\n      (_this$props$onTouchMo = (_this$props7 = _this.props).onTouchMove) === null || _this$props$onTouchMo === void 0 ? void 0 : _this$props$onTouchMo.call(_this$props7, event);\n    };\n\n    _this.handleBodyScroll = function (event) {\n      if (event.target !== _this.tableBodyRef.current) {\n        return;\n      }\n\n      var left = scrollLeft(event.target);\n      var top = scrollTop(event.target);\n\n      if (top === 0 && left === 0) {\n        return;\n      }\n\n      _this.listenWheel(left, top);\n\n      scrollLeft(event.target, 0);\n      scrollTop(event.target, 0);\n    };\n\n    _this.shouldHandleWheelX = function (delta) {\n      var _this$props8 = _this.props,\n          disabledScroll = _this$props8.disabledScroll,\n          loading = _this$props8.loading;\n\n      if (delta === 0 || disabledScroll || loading) {\n        return false;\n      }\n\n      return true;\n    };\n\n    _this.shouldHandleWheelY = function (delta) {\n      var _this$props9 = _this.props,\n          disabledScroll = _this$props9.disabledScroll,\n          loading = _this$props9.loading;\n\n      if (delta === 0 || disabledScroll || loading) {\n        return false;\n      }\n\n      return delta >= 0 && _this.scrollY > _this.minScrollY || delta < 0 && _this.scrollY < 0;\n    };\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    _this.calculateTableWidth = function () {\n      var _this$tableRef2;\n\n      var table = (_this$tableRef2 = _this.tableRef) === null || _this$tableRef2 === void 0 ? void 0 : _this$tableRef2.current;\n      var width = _this.state.width;\n\n      if (table) {\n        var nextWidth = getWidth(table);\n\n        if (width !== nextWidth) {\n          var _this$scrollbarXRef2, _this$scrollbarXRef2$;\n\n          _this.scrollX = 0;\n          (_this$scrollbarXRef2 = _this.scrollbarXRef) === null || _this$scrollbarXRef2 === void 0 ? void 0 : (_this$scrollbarXRef2$ = _this$scrollbarXRef2.current) === null || _this$scrollbarXRef2$ === void 0 ? void 0 : _this$scrollbarXRef2$.resetScrollBarPosition();\n        }\n\n        _this._cacheCells = null;\n\n        _this.setState({\n          width: nextWidth\n        });\n      }\n\n      _this.setOffsetByAffix();\n    };\n\n    _this.scrollTop = function (top) {\n      var _this$scrollbarYRef, _this$scrollbarYRef$c5, _this$scrollbarYRef$c6;\n\n      if (top === void 0) {\n        top = 0;\n      }\n\n      var _this$getControlledSc = _this.getControlledScrollTopValue(top),\n          scrollY = _this$getControlledSc[0],\n          handleScrollY = _this$getControlledSc[1];\n\n      _this.scrollY = scrollY;\n      (_this$scrollbarYRef = _this.scrollbarYRef) === null || _this$scrollbarYRef === void 0 ? void 0 : (_this$scrollbarYRef$c5 = _this$scrollbarYRef.current) === null || _this$scrollbarYRef$c5 === void 0 ? void 0 : (_this$scrollbarYRef$c6 = _this$scrollbarYRef$c5.resetScrollBarPosition) === null || _this$scrollbarYRef$c6 === void 0 ? void 0 : _this$scrollbarYRef$c6.call(_this$scrollbarYRef$c5, handleScrollY);\n\n      _this.updatePosition();\n      /**\n       * 当开启 virtualized，调用 scrollTop 后会出现白屏现象，\n       * 原因是直接操作 DOM 的坐标，但是组件没有重新渲染，需要调用 forceUpdate 重新进入 render。\n       * Fix: rsuite#1044\n       */\n\n\n      if (_this.props.virtualized && _this.state.contentHeight > _this.props.height) {\n        _this.forceUpdate();\n      }\n    };\n\n    _this.scrollLeft = function (left) {\n      var _this$scrollbarXRef3, _this$scrollbarXRef3$, _this$scrollbarXRef3$2;\n\n      if (left === void 0) {\n        left = 0;\n      }\n\n      var _this$getControlledSc2 = _this.getControlledScrollLeftValue(left),\n          scrollX = _this$getControlledSc2[0],\n          handleScrollX = _this$getControlledSc2[1];\n\n      _this.scrollX = scrollX;\n      (_this$scrollbarXRef3 = _this.scrollbarXRef) === null || _this$scrollbarXRef3 === void 0 ? void 0 : (_this$scrollbarXRef3$ = _this$scrollbarXRef3.current) === null || _this$scrollbarXRef3$ === void 0 ? void 0 : (_this$scrollbarXRef3$2 = _this$scrollbarXRef3$.resetScrollBarPosition) === null || _this$scrollbarXRef3$2 === void 0 ? void 0 : _this$scrollbarXRef3$2.call(_this$scrollbarXRef3$, handleScrollX);\n\n      _this.updatePosition();\n    };\n\n    _this.scrollTo = function (coord) {\n      var _ref = coord || {},\n          x = _ref.x,\n          y = _ref.y;\n\n      if (typeof x === 'number') {\n        _this.scrollLeft(x);\n      }\n\n      if (typeof y === 'number') {\n        _this.scrollTop(y);\n      }\n    };\n\n    _this.bindTableRowsRef = function (index, rowData) {\n      return function (ref) {\n        if (ref) {\n          _this.tableRows[index] = [ref, rowData];\n        }\n      };\n    };\n\n    _this.bindRowClick = function (rowData) {\n      return function (event) {\n        var _this$props$onRowClic, _this$props10;\n\n        (_this$props$onRowClic = (_this$props10 = _this.props).onRowClick) === null || _this$props$onRowClic === void 0 ? void 0 : _this$props$onRowClic.call(_this$props10, rowData, event);\n      };\n    };\n\n    _this.bindRowContextMenu = function (rowData) {\n      return function (event) {\n        var _this$props$onRowCont, _this$props11;\n\n        (_this$props$onRowCont = (_this$props11 = _this.props).onRowContextMenu) === null || _this$props$onRowCont === void 0 ? void 0 : _this$props$onRowCont.call(_this$props11, rowData, event);\n      };\n    };\n\n    var _width = props.width,\n        data = props.data,\n        _rowKey = props.rowKey,\n        defaultExpandAllRows = props.defaultExpandAllRows,\n        renderRowExpanded = props.renderRowExpanded,\n        defaultExpandedRowKeys = props.defaultExpandedRowKeys,\n        _props$children = props.children,\n        children = _props$children === void 0 ? [] : _props$children,\n        isTree = props.isTree,\n        defaultSortType = props.defaultSortType;\n\n    var _expandedRowKeys = defaultExpandAllRows ? findRowKeys(data, _rowKey, isFunction(renderRowExpanded)) : defaultExpandedRowKeys || [];\n\n    var shouldFixedColumn = Array.from(flatten(isFragment(children) ? children.props.children : children)).some(function (child) {\n      return child && child.props && child.props.fixed;\n    });\n\n    if (isTree && !_rowKey) {\n      throw new Error('The `rowKey` is required when set isTree');\n    }\n\n    _this.state = {\n      isTree: isTree,\n      expandedRowKeys: _expandedRowKeys,\n      shouldFixedColumn: shouldFixedColumn,\n      cacheData: data,\n      data: isTree ? flattenData(data) : data,\n      width: _width || 0,\n      columnWidth: 0,\n      dataKey: 0,\n      contentHeight: 0,\n      contentWidth: 0,\n      tableRowsMaxHeight: [],\n      sortType: defaultSortType,\n      scrollY: 0,\n      isScrolling: false,\n      fixedHeader: false\n    };\n    _this.scrollY = 0;\n    _this.scrollX = 0;\n    _this.wheelHandler = new WheelHandler(_this.listenWheel, _this.shouldHandleWheelX, _this.shouldHandleWheelY, false);\n    _this._cacheChildrenSize = flatten(children).length;\n    _this.translateDOMPositionXY = getTranslateDOMPositionXY({\n      enable3DTransform: props.translate3d\n    });\n    _this.tableRef = /*#__PURE__*/React.createRef();\n    _this.scrollbarYRef = /*#__PURE__*/React.createRef();\n    _this.scrollbarXRef = /*#__PURE__*/React.createRef();\n    _this.tableBodyRef = /*#__PURE__*/React.createRef();\n    _this.affixHeaderWrapperRef = /*#__PURE__*/React.createRef();\n    _this.mouseAreaRef = /*#__PURE__*/React.createRef();\n    _this.headerWrapperRef = /*#__PURE__*/React.createRef();\n    _this.wheelWrapperRef = /*#__PURE__*/React.createRef();\n    _this.tableHeaderRef = /*#__PURE__*/React.createRef();\n    return _this;\n  }\n\n  var _proto = Table.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this$props13, _this$props13$bodyRef;\n\n    this.calculateTableWidth();\n    this.calculateTableContextHeight();\n    this.calculateRowMaxHeight();\n    this.setOffsetByAffix();\n    this.initPosition();\n    bindElementResize(this.tableRef.current, debounce(this.calculateTableWidth, 400));\n    var options = {\n      passive: false\n    };\n    var tableBody = this.tableBodyRef.current;\n\n    if (tableBody) {\n      this.wheelListener = on(tableBody, 'wheel', this.wheelHandler.onWheel, options);\n      this.touchStartListener = on(tableBody, 'touchstart', this.handleTouchStart, options);\n      this.touchMoveListener = on(tableBody, 'touchmove', this.handleTouchMove, options);\n    }\n\n    var _this$props12 = this.props,\n        affixHeader = _this$props12.affixHeader,\n        affixHorizontalScrollbar = _this$props12.affixHorizontalScrollbar;\n\n    if (isNumberOrTrue(affixHeader) || isNumberOrTrue(affixHorizontalScrollbar)) {\n      this.scrollListener = on(window, 'scroll', this.handleWindowScroll);\n    }\n\n    (_this$props13 = this.props) === null || _this$props13 === void 0 ? void 0 : (_this$props13$bodyRef = _this$props13.bodyRef) === null || _this$props13$bodyRef === void 0 ? void 0 : _this$props13$bodyRef.call(_this$props13, this.wheelWrapperRef.current);\n  };\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    var _cacheChildrenSize = flatten(nextProps.children || []).length;\n    /**\n     * 单元格列的信息在初始化后会被缓存，在某些属性被更新以后，需要清除缓存。\n     */\n\n    if (_cacheChildrenSize !== this._cacheChildrenSize) {\n      this._cacheChildrenSize = _cacheChildrenSize;\n      this._cacheCells = null;\n    } else if (this.props.children !== nextProps.children || this.props.sortColumn !== nextProps.sortColumn || this.props.sortType !== nextProps.sortType) {\n      this._cacheCells = null;\n    }\n\n    return !eq(this.props, nextProps) || !isEqual(this.state, nextState);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var rowHeight = prevProps.rowHeight,\n        data = prevProps.data,\n        height = prevProps.height;\n\n    if (data !== this.props.data) {\n      var _this$props$onDataUpd, _this$props14;\n\n      this.calculateRowMaxHeight();\n      (_this$props$onDataUpd = (_this$props14 = this.props).onDataUpdated) === null || _this$props$onDataUpd === void 0 ? void 0 : _this$props$onDataUpd.call(_this$props14, this.props.data, this.scrollTo);\n      var maxHeight = this.props.data.length * (typeof rowHeight === 'function' ? rowHeight(null) : rowHeight); // 当开启允许更新滚动条，或者滚动条位置大于表格的最大高度，则初始滚动条位置\n\n      if (this.props.shouldUpdateScroll || Math.abs(this.scrollY) > maxHeight) {\n        this.scrollTo({\n          x: 0,\n          y: 0\n        });\n      }\n    } else {\n      this.updatePosition();\n    }\n\n    if ( // 当 Table 的 data 发生变化，需要重新计算高度\n    data !== this.props.data || // 当 Table 的 height 属性发生变化，需要重新计算 Table 高度\n    height !== this.props.height || // 当 Table 内容区的高度发生变化需要重新计算\n    prevState.contentHeight !== this.state.contentHeight || // 当 expandedRowKeys 发生变化，需要重新计算 Table 高度，如果重算会导致滚动条不显示。\n    prevState.expandedRowKeys !== this.state.expandedRowKeys || prevProps.expandedRowKeys !== this.props.expandedRowKeys) {\n      this.calculateTableContextHeight(prevProps);\n    }\n\n    this.calculateTableContentWidth(prevProps);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var _this$wheelListener, _this$touchStartListe, _this$touchMoveListen, _this$scrollListener;\n\n    this.wheelHandler = null;\n\n    if (this.tableRef.current) {\n      unbindElementResize(this.tableRef.current);\n    }\n\n    (_this$wheelListener = this.wheelListener) === null || _this$wheelListener === void 0 ? void 0 : _this$wheelListener.off();\n    (_this$touchStartListe = this.touchStartListener) === null || _this$touchStartListe === void 0 ? void 0 : _this$touchStartListe.off();\n    (_this$touchMoveListen = this.touchMoveListener) === null || _this$touchMoveListen === void 0 ? void 0 : _this$touchMoveListen.off();\n    (_this$scrollListener = this.scrollListener) === null || _this$scrollListener === void 0 ? void 0 : _this$scrollListener.off();\n  };\n\n  _proto.getExpandedRowKeys = function getExpandedRowKeys() {\n    var expandedRowKeys = this.props.expandedRowKeys;\n    return typeof expandedRowKeys === 'undefined' ? this.state.expandedRowKeys : expandedRowKeys;\n  };\n\n  _proto.getSortType = function getSortType() {\n    var sortType = this.props.sortType;\n    return typeof sortType === 'undefined' ? this.state.sortType : sortType;\n  };\n\n  _proto.getScrollCellGroups = function getScrollCellGroups() {\n    var _this$tableRef$curren;\n\n    return (_this$tableRef$curren = this.tableRef.current) === null || _this$tableRef$curren === void 0 ? void 0 : _this$tableRef$curren.querySelectorAll(\".\" + this.addPrefix('cell-group-scroll'));\n  };\n\n  _proto.getFixedLeftCellGroups = function getFixedLeftCellGroups() {\n    var _this$tableRef$curren2;\n\n    return (_this$tableRef$curren2 = this.tableRef.current) === null || _this$tableRef$curren2 === void 0 ? void 0 : _this$tableRef$curren2.querySelectorAll(\".\" + this.addPrefix('cell-group-fixed-left'));\n  };\n\n  _proto.getFixedRightCellGroups = function getFixedRightCellGroups() {\n    var _this$tableRef$curren3;\n\n    return (_this$tableRef$curren3 = this.tableRef.current) === null || _this$tableRef$curren3 === void 0 ? void 0 : _this$tableRef$curren3.querySelectorAll(\".\" + this.addPrefix('cell-group-fixed-right'));\n  };\n\n  _proto.isRTL = function isRTL() {\n    return this.props.rtl || _isRTL();\n  };\n\n  _proto.getRowHeight = function getRowHeight(rowData) {\n    if (rowData === void 0) {\n      rowData = {};\n    }\n\n    var rowHeight = this.props.rowHeight;\n    return typeof rowHeight === 'function' ? rowHeight(rowData) : rowHeight;\n  }\n  /**\n   * 获取表头高度\n   */\n  ;\n\n  _proto.getTableHeaderHeight = function getTableHeaderHeight() {\n    var _this$props15 = this.props,\n        headerHeight = _this$props15.headerHeight,\n        showHeader = _this$props15.showHeader;\n    return showHeader ? headerHeight : 0;\n  }\n  /**\n   * 获取 Table 需要渲染的高度\n   */\n  ;\n\n  _proto.getTableHeight = function getTableHeight() {\n    var contentHeight = this.state.contentHeight;\n    var _this$props16 = this.props,\n        minHeight = _this$props16.minHeight,\n        height = _this$props16.height,\n        autoHeight = _this$props16.autoHeight,\n        data = _this$props16.data;\n    var headerHeight = this.getTableHeaderHeight();\n\n    if (data.length === 0 && autoHeight) {\n      return height;\n    }\n\n    return autoHeight ? Math.max(headerHeight + contentHeight, minHeight) : height;\n  }\n  /**\n   * 获取 columns ReactElement 数组\n   * - 处理 children 中存在 <Column> 数组的情况\n   * - 过滤 children 中的空项\n   */\n  ;\n\n  _proto.getTableColumns = function getTableColumns(children) {\n    if (!Array.isArray(children)) {\n      if (isFragment(children)) {\n        return this.getTableColumns(children.props.children);\n      }\n\n      return children;\n    }\n\n    var flattenColumns = flatten(children).map(function (column) {\n      if ((column === null || column === void 0 ? void 0 : column.type) === ColumnGroup) {\n        var _column$props = column === null || column === void 0 ? void 0 : column.props,\n            header = _column$props.header,\n            childColumns = _column$props.children,\n            align = _column$props.align,\n            fixed = _column$props.fixed,\n            verticalAlign = _column$props.verticalAlign;\n\n        return childColumns.map(function (childColumn, index) {\n          // 把 ColumnGroup 设置的属性覆盖到 Column\n          var groupCellProps = _extends({}, childColumn === null || childColumn === void 0 ? void 0 : childColumn.props, {\n            align: align,\n            fixed: fixed,\n            verticalAlign: verticalAlign\n          });\n          /**\n           * 为分组中的第一列设置属性:\n           * groupCount: 分组子项个数\n           * groupHeader: 分组标题\n           * resizable: 设置为不可自定义列宽\n           */\n\n\n          if (index === 0) {\n            groupCellProps.groupCount = childColumns.length;\n            groupCellProps.groupHeader = header;\n            groupCellProps.resizable = false;\n          }\n\n          return /*#__PURE__*/React.cloneElement(childColumn, groupCellProps);\n        });\n      }\n\n      return column;\n    }); // 把 Columns 中的数组，展平为一维数组，计算 lastColumn 与 firstColumn。\n\n    return flatten(flattenColumns).filter(function (col) {\n      return col;\n    });\n  };\n\n  _proto.getCellDescriptor = function getCellDescriptor() {\n    var _this2 = this;\n\n    if (this._cacheCells) {\n      return this._cacheCells;\n    }\n\n    var hasCustomTreeCol = false;\n    var left = 0; // Cell left margin\n\n    var headerCells = []; // Table header cell\n\n    var bodyCells = []; // Table body cell\n\n    var children = this.props.children;\n\n    if (!children) {\n      this._cacheCells = {\n        headerCells: headerCells,\n        bodyCells: bodyCells,\n        hasCustomTreeCol: hasCustomTreeCol,\n        allColumnsWidth: left\n      };\n      return this._cacheCells;\n    }\n\n    var columns = this.getTableColumns(children);\n    var tableWidth = this.state.width;\n    var _this$props17 = this.props,\n        sortColumn = _this$props17.sortColumn,\n        rowHeight = _this$props17.rowHeight,\n        showHeader = _this$props17.showHeader;\n\n    var _getTotalByColumns = getTotalByColumns(columns),\n        totalFlexGrow = _getTotalByColumns.totalFlexGrow,\n        totalWidth = _getTotalByColumns.totalWidth;\n\n    var headerHeight = this.getTableHeaderHeight();\n    React.Children.forEach(columns, function (column, index) {\n      if ( /*#__PURE__*/React.isValidElement(column)) {\n        var columnChildren = column.props.children;\n        var _column$props2 = column.props,\n            width = _column$props2.width,\n            resizable = _column$props2.resizable,\n            flexGrow = _column$props2.flexGrow,\n            minWidth = _column$props2.minWidth,\n            onResize = _column$props2.onResize,\n            treeCol = _column$props2.treeCol;\n\n        if (treeCol) {\n          hasCustomTreeCol = true;\n        }\n\n        if (resizable && flexGrow) {\n          console.warn(\"Cannot set 'resizable' and 'flexGrow' together in <Column>, column index: \" + index);\n        }\n\n        if (columnChildren.length !== 2) {\n          throw new Error(\"Component <HeaderCell> and <Cell> is required, column index: \" + index + \" \");\n        }\n\n        var nextWidth = _this2.state[columnChildren[1].props.dataKey + \"_\" + index + \"_width\"] || width || 0;\n\n        if (tableWidth && flexGrow && totalFlexGrow) {\n          nextWidth = Math.max((tableWidth - totalWidth) / totalFlexGrow * flexGrow, minWidth || 60);\n        }\n\n        var cellProps = _extends({}, omit(column.props, ['children']), {\n          'aria-colindex': index + 1,\n          left: left,\n          headerHeight: headerHeight,\n          key: index,\n          width: nextWidth,\n          height: rowHeight,\n          firstColumn: index === 0,\n          lastColumn: index === columns.length - 1\n        });\n\n        if (showHeader && headerHeight) {\n          var headerCellProps = {\n            // index 用于拖拽列宽时候（Resizable column），定义的序号\n            index: index,\n            dataKey: columnChildren[1].props.dataKey,\n            isHeaderCell: true,\n            sortable: column.props.sortable,\n            onSortColumn: _this2.handleSortColumn,\n            sortType: _this2.getSortType(),\n            sortColumn: sortColumn,\n            flexGrow: flexGrow\n          };\n\n          if (resizable) {\n            merge(headerCellProps, {\n              onResize: onResize,\n              onColumnResizeEnd: _this2.handleColumnResizeEnd,\n              onColumnResizeStart: _this2.handleColumnResizeStart,\n              onColumnResizeMove: _this2.handleColumnResizeMove\n            });\n          }\n\n          headerCells.push( /*#__PURE__*/React.cloneElement(columnChildren[0], _extends({}, cellProps, headerCellProps)));\n        }\n\n        bodyCells.push( /*#__PURE__*/React.cloneElement(columnChildren[1], cellProps));\n        left += nextWidth;\n      }\n    });\n    return this._cacheCells = {\n      headerCells: headerCells,\n      bodyCells: bodyCells,\n      allColumnsWidth: left,\n      hasCustomTreeCol: hasCustomTreeCol\n    };\n  };\n\n  _proto.initPosition = function initPosition() {\n    var _this3 = this;\n\n    if (this.isRTL()) {\n      setTimeout(function () {\n        var _this3$scrollbarXRef, _this3$scrollbarXRef$, _this3$scrollbarXRef$2;\n\n        var _this3$state = _this3.state,\n            contentWidth = _this3$state.contentWidth,\n            width = _this3$state.width;\n        _this3.scrollX = width - contentWidth - SCROLLBAR_WIDTH;\n\n        _this3.updatePosition();\n\n        (_this3$scrollbarXRef = _this3.scrollbarXRef) === null || _this3$scrollbarXRef === void 0 ? void 0 : (_this3$scrollbarXRef$ = _this3$scrollbarXRef.current) === null || _this3$scrollbarXRef$ === void 0 ? void 0 : (_this3$scrollbarXRef$2 = _this3$scrollbarXRef$.resetScrollBarPosition) === null || _this3$scrollbarXRef$2 === void 0 ? void 0 : _this3$scrollbarXRef$2.call(_this3$scrollbarXRef$, -_this3.scrollX);\n      }, 0);\n    }\n  };\n\n  _proto.updatePosition = function updatePosition() {\n    var _this$tableHeaderRef;\n    /**\n     * 当存在锁定列情况处理\n     */\n\n\n    if (this.state.shouldFixedColumn) {\n      this.updatePositionByFixedCell();\n    } else {\n      var _this$wheelWrapperRef, _this$headerWrapperRe2, _this$affixHeaderWrap, _affixHeaderElement$h;\n\n      var wheelStyle = {};\n      var headerStyle = {};\n      this.translateDOMPositionXY(wheelStyle, this.scrollX, this.scrollY);\n      this.translateDOMPositionXY(headerStyle, this.scrollX, 0);\n      var wheelElement = (_this$wheelWrapperRef = this.wheelWrapperRef) === null || _this$wheelWrapperRef === void 0 ? void 0 : _this$wheelWrapperRef.current;\n      var headerElement = (_this$headerWrapperRe2 = this.headerWrapperRef) === null || _this$headerWrapperRe2 === void 0 ? void 0 : _this$headerWrapperRe2.current;\n      var affixHeaderElement = (_this$affixHeaderWrap = this.affixHeaderWrapperRef) === null || _this$affixHeaderWrap === void 0 ? void 0 : _this$affixHeaderWrap.current;\n      wheelElement && addStyle(wheelElement, wheelStyle);\n      headerElement && addStyle(headerElement, headerStyle);\n\n      if (affixHeaderElement !== null && affixHeaderElement !== void 0 && (_affixHeaderElement$h = affixHeaderElement.hasChildNodes) !== null && _affixHeaderElement$h !== void 0 && _affixHeaderElement$h.call(affixHeaderElement)) {\n        addStyle(affixHeaderElement.firstChild, headerStyle);\n      }\n    }\n\n    if ((_this$tableHeaderRef = this.tableHeaderRef) !== null && _this$tableHeaderRef !== void 0 && _this$tableHeaderRef.current) {\n      toggleClass(this.tableHeaderRef.current, this.addPrefix('cell-group-shadow'), this.scrollY < 0);\n    }\n  };\n\n  _proto.updatePositionByFixedCell = function updatePositionByFixedCell() {\n    var _this$wheelWrapperRef2;\n\n    var wheelGroupStyle = {};\n    var wheelStyle = {};\n    var scrollGroups = this.getScrollCellGroups();\n    var fixedLeftGroups = this.getFixedLeftCellGroups();\n    var fixedRightGroups = this.getFixedRightCellGroups();\n    var _this$state4 = this.state,\n        contentWidth = _this$state4.contentWidth,\n        width = _this$state4.width;\n    this.translateDOMPositionXY(wheelGroupStyle, this.scrollX, 0);\n    this.translateDOMPositionXY(wheelStyle, 0, this.scrollY);\n    var scrollArrayGroups = Array.from(scrollGroups);\n\n    for (var i = 0; i < scrollArrayGroups.length; i++) {\n      var group = scrollArrayGroups[i];\n      addStyle(group, wheelGroupStyle);\n    }\n\n    if ((_this$wheelWrapperRef2 = this.wheelWrapperRef) !== null && _this$wheelWrapperRef2 !== void 0 && _this$wheelWrapperRef2.current) {\n      addStyle(this.wheelWrapperRef.current, wheelStyle);\n    }\n\n    var leftShadowClassName = this.addPrefix('cell-group-left-shadow');\n    var rightShadowClassName = this.addPrefix('cell-group-right-shadow');\n    var showLeftShadow = this.scrollX < 0;\n    var showRightShadow = width - contentWidth - SCROLLBAR_WIDTH !== this.scrollX;\n    toggleClass(fixedLeftGroups, leftShadowClassName, showLeftShadow);\n    toggleClass(fixedRightGroups, rightShadowClassName, showRightShadow);\n  };\n\n  _proto.shouldRenderExpandedRow = function shouldRenderExpandedRow(rowData) {\n    var _this$props18 = this.props,\n        rowKey = _this$props18.rowKey,\n        renderRowExpanded = _this$props18.renderRowExpanded,\n        isTree = _this$props18.isTree;\n    var expandedRowKeys = this.getExpandedRowKeys() || [];\n    return isFunction(renderRowExpanded) && !isTree && expandedRowKeys.some(function (key) {\n      return key === rowData[rowKey];\n    });\n  };\n\n  _proto.calculateRowMaxHeight = function calculateRowMaxHeight() {\n    var wordWrap = this.props.wordWrap;\n\n    if (wordWrap) {\n      var tableRowsMaxHeight = [];\n      var tableRows = Object.values(this.tableRows);\n\n      for (var i = 0; i < tableRows.length; i++) {\n        var _tableRows$i = tableRows[i],\n            row = _tableRows$i[0];\n\n        if (row) {\n          var cells = row.querySelectorAll(\".\" + this.addPrefix('cell-wrap')) || [];\n          var cellArray = Array.from(cells);\n          var maxHeight = 0;\n\n          for (var j = 0; j < cellArray.length; j++) {\n            var cell = cellArray[j];\n            var h = getHeight(cell);\n            maxHeight = Math.max(maxHeight, h);\n          }\n\n          tableRowsMaxHeight.push(maxHeight);\n        }\n      }\n\n      this.setState({\n        tableRowsMaxHeight: tableRowsMaxHeight\n      });\n    }\n  };\n\n  _proto.calculateTableContentWidth = function calculateTableContentWidth(prevProps) {\n    var _this$tableRef3;\n\n    var table = (_this$tableRef3 = this.tableRef) === null || _this$tableRef3 === void 0 ? void 0 : _this$tableRef3.current;\n    var row = table.querySelector(\".\" + this.addPrefix('row') + \":not(.virtualized)\");\n    var contentWidth = row ? getWidth(row) : 0;\n    this.setState({\n      contentWidth: contentWidth\n    }); // 这里 -SCROLLBAR_WIDTH 是为了让滚动条不挡住内容部分\n\n    this.minScrollX = -(contentWidth - this.state.width) - SCROLLBAR_WIDTH;\n    /**\n     * 1.判断 Table 列数是否发生变化\n     * 2.判断 Table 内容区域是否宽度有变化\n     *\n     * 满足 1 和 2 则更新横向滚动条位置\n     */\n\n    if (flatten(this.props.children).length !== flatten(prevProps.children).length && this.state.contentWidth !== contentWidth) {\n      this.scrollLeft(0);\n    }\n  };\n\n  _proto.calculateTableContextHeight = function calculateTableContextHeight(prevProps) {\n    var table = this.tableRef.current;\n    var rows = table.querySelectorAll(\".\" + this.addPrefix('row')) || [];\n    var _this$props19 = this.props,\n        height = _this$props19.height,\n        autoHeight = _this$props19.autoHeight,\n        rowHeight = _this$props19.rowHeight,\n        affixHeader = _this$props19.affixHeader;\n    var headerHeight = this.getTableHeaderHeight();\n    var contentHeight = rows.length ? Array.from(rows).map(function (row) {\n      return getHeight(row) || rowHeight;\n    }).reduce(function (x, y) {\n      return x + y;\n    }) : 0; // 当设置 affixHeader 属性后要减掉两个 header 的高度\n\n    var nextContentHeight = contentHeight - (affixHeader ? headerHeight * 2 : headerHeight);\n\n    if (nextContentHeight !== this.state.contentHeight) {\n      this.setState({\n        contentHeight: nextContentHeight\n      });\n    }\n\n    if (prevProps && ( // 当 data 更新，或者表格高度更新，则更新滚动条\n    prevProps.height !== height || prevProps.data !== this.props.data) && this.scrollY !== 0) {\n      this.scrollTop(Math.abs(this.scrollY));\n      this.updatePosition();\n    }\n\n    if (!autoHeight) {\n      // 这里 -SCROLLBAR_WIDTH 是为了让滚动条不挡住内容部分\n      this.minScrollY = -(contentHeight - height) - SCROLLBAR_WIDTH;\n    } // 如果内容区域的高度小于表格的高度，则重置 Y 坐标滚动条\n\n\n    if (contentHeight < height) {\n      this.scrollTop(0);\n    } // 如果 scrollTop 的值大于可以滚动的范围 ，则重置 Y 坐标滚动条\n    // 当 Table 为 virtualized 时， wheel 事件触发每次都会进入该逻辑， 避免在滚动到底部后滚动条重置, +SCROLLBAR_WIDTH\n\n\n    if (Math.abs(this.scrollY) + height - headerHeight > nextContentHeight + SCROLLBAR_WIDTH) {\n      this.scrollTop(this.scrollY);\n    }\n  };\n\n  _proto.getControlledScrollTopValue = function getControlledScrollTopValue(value) {\n    if (this.props.autoHeight) {\n      return [0, 0];\n    }\n\n    var contentHeight = this.state.contentHeight;\n    var headerHeight = this.getTableHeaderHeight();\n    var height = this.getTableHeight(); // 滚动值的最大范围判断\n\n    value = Math.min(value, Math.max(0, contentHeight - (height - headerHeight))); // value 值是表格理论滚动位置的一个值，通过 value 计算出 scrollY 坐标值与滚动条位置的值\n\n    return [-value, value / contentHeight * (height - headerHeight)];\n  };\n\n  _proto.getControlledScrollLeftValue = function getControlledScrollLeftValue(value) {\n    var _this$state5 = this.state,\n        contentWidth = _this$state5.contentWidth,\n        width = _this$state5.width; // 滚动值的最大范围判断\n\n    value = Math.min(value, Math.max(0, contentWidth - width));\n    return [-value, value / contentWidth * width];\n  }\n  /**\n   * public method\n   */\n  ;\n\n  _proto.renderRowData = function renderRowData(bodyCells, rowData, props, shouldRenderExpandedRow) {\n    var _this$props20 = this.props,\n        renderTreeToggle = _this$props20.renderTreeToggle,\n        rowKey = _this$props20.rowKey,\n        wordWrap = _this$props20.wordWrap,\n        isTree = _this$props20.isTree;\n    var hasChildren = isTree && rowData.children && Array.isArray(rowData.children);\n    var nextRowKey = typeof rowData[rowKey] !== 'undefined' ? rowData[rowKey] : props.key;\n\n    var rowProps = _extends({}, props, {\n      key: nextRowKey,\n      'aria-rowindex': props.key + 2,\n      rowRef: this.bindTableRowsRef(props.key, rowData),\n      onClick: this.bindRowClick(rowData),\n      onContextMenu: this.bindRowContextMenu(rowData)\n    });\n\n    var expandedRowKeys = this.getExpandedRowKeys() || [];\n    var expanded = expandedRowKeys.some(function (key) {\n      return key === rowData[rowKey];\n    });\n    var cells = [];\n\n    for (var i = 0; i < bodyCells.length; i++) {\n      var cell = bodyCells[i];\n      cells.push( /*#__PURE__*/React.cloneElement(cell, {\n        hasChildren: hasChildren,\n        rowData: rowData,\n        wordWrap: wordWrap,\n        renderTreeToggle: renderTreeToggle,\n        height: props.height,\n        rowIndex: props.key,\n        depth: props.depth,\n        onTreeToggle: this.handleTreeToggle,\n        rowKey: nextRowKey,\n        expanded: expanded\n      }));\n    }\n\n    return this.renderRow(rowProps, cells, shouldRenderExpandedRow, rowData);\n  };\n\n  _proto.renderRow = function renderRow(props, cells, shouldRenderExpandedRow, rowData) {\n    var rowClassName = this.props.rowClassName;\n    var _this$state6 = this.state,\n        shouldFixedColumn = _this$state6.shouldFixedColumn,\n        width = _this$state6.width,\n        contentWidth = _this$state6.contentWidth;\n\n    var depth = props.depth,\n        restRowProps = _objectWithoutPropertiesLoose(props, [\"depth\"]);\n\n    if (typeof rowClassName === 'function') {\n      restRowProps.className = rowClassName(rowData);\n    } else {\n      restRowProps.className = rowClassName;\n    }\n\n    var rowStyles = {};\n    var rowRight = 0;\n\n    if (this.isRTL() && contentWidth > width) {\n      rowRight = width - contentWidth;\n      rowStyles.right = rowRight;\n    } // IF there are fixed columns, add a fixed group\n\n\n    if (shouldFixedColumn && contentWidth > width) {\n      var fixedLeftCells = [];\n      var fixedRightCells = [];\n      var scrollCells = [];\n      var fixedLeftCellGroupWidth = 0;\n      var fixedRightCellGroupWidth = 0;\n\n      for (var i = 0; i < cells.length; i++) {\n        var cell = cells[i];\n        var _cell$props = cell.props,\n            fixed = _cell$props.fixed,\n            _width2 = _cell$props.width;\n        var isFixedStart = fixed === 'left' || fixed === true;\n        var isFixedEnd = fixed === 'right';\n\n        if (this.isRTL()) {\n          isFixedStart = fixed === 'right';\n          isFixedEnd = fixed === 'left' || fixed === true;\n        }\n\n        if (isFixedStart) {\n          fixedLeftCells.push(cell);\n          fixedLeftCellGroupWidth += _width2;\n        } else if (isFixedEnd) {\n          fixedRightCells.push(cell);\n          fixedRightCellGroupWidth += _width2;\n        } else {\n          scrollCells.push(cell);\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(Row, _extends({}, restRowProps, {\n        \"data-depth\": depth,\n        style: rowStyles\n      }), fixedLeftCellGroupWidth ? /*#__PURE__*/React.createElement(CellGroup, {\n        fixed: \"left\",\n        height: props.isHeaderRow ? props.headerHeight : props.height,\n        width: fixedLeftCellGroupWidth,\n        style: this.isRTL() ? {\n          right: width - fixedLeftCellGroupWidth - rowRight\n        } : null\n      }, mergeCells(resetLeftForCells(fixedLeftCells))) : null, /*#__PURE__*/React.createElement(CellGroup, null, mergeCells(scrollCells)), fixedRightCellGroupWidth ? /*#__PURE__*/React.createElement(CellGroup, {\n        fixed: \"right\",\n        style: this.isRTL() ? {\n          right: 0 - rowRight\n        } : {\n          left: width - fixedRightCellGroupWidth - SCROLLBAR_WIDTH\n        },\n        height: props.isHeaderRow ? props.headerHeight : props.height,\n        width: fixedRightCellGroupWidth + SCROLLBAR_WIDTH\n      }, mergeCells(resetLeftForCells(fixedRightCells, SCROLLBAR_WIDTH))) : null, shouldRenderExpandedRow && this.renderRowExpanded(rowData));\n    }\n\n    return /*#__PURE__*/React.createElement(Row, _extends({}, restRowProps, {\n      \"data-depth\": depth,\n      style: rowStyles\n    }), /*#__PURE__*/React.createElement(CellGroup, null, mergeCells(cells)), shouldRenderExpandedRow && this.renderRowExpanded(rowData));\n  };\n\n  _proto.renderRowExpanded = function renderRowExpanded(rowData) {\n    var _this$props21 = this.props,\n        renderRowExpanded = _this$props21.renderRowExpanded,\n        rowExpandedHeight = _this$props21.rowExpandedHeight;\n    var styles = {\n      height: rowExpandedHeight\n    };\n\n    if (typeof renderRowExpanded === 'function') {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: this.addPrefix('row-expanded'),\n        style: styles\n      }, renderRowExpanded(rowData));\n    }\n\n    return null;\n  };\n\n  _proto.renderMouseArea = function renderMouseArea() {\n    var headerHeight = this.getTableHeaderHeight();\n    var styles = {\n      height: this.getTableHeight()\n    };\n    var spanStyles = {\n      height: headerHeight - 1\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.mouseAreaRef,\n      className: this.addPrefix('mouse-area'),\n      style: styles\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: spanStyles\n    }));\n  };\n\n  _proto.renderTableHeader = function renderTableHeader(headerCells, rowWidth) {\n    var affixHeader = this.props.affixHeader;\n    var tableWidth = this.state.width;\n    var top = typeof affixHeader === 'number' ? affixHeader : 0;\n    var headerHeight = this.getTableHeaderHeight();\n    var rowProps = {\n      'aria-rowindex': 1,\n      rowRef: this.tableHeaderRef,\n      width: rowWidth,\n      height: this.getRowHeight(),\n      headerHeight: headerHeight,\n      isHeaderRow: true,\n      top: 0\n    };\n    var fixedStyle = {\n      position: 'fixed',\n      overflow: 'hidden',\n      height: this.getTableHeaderHeight(),\n      width: tableWidth,\n      top: top\n    }; // Affix header\n\n    var header = /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(this.addPrefix('affix-header')),\n      style: fixedStyle,\n      ref: this.affixHeaderWrapperRef\n    }, this.renderRow(rowProps, headerCells));\n    return /*#__PURE__*/React.createElement(React.Fragment, null, (affixHeader === 0 || affixHeader) && header, /*#__PURE__*/React.createElement(\"div\", {\n      role: \"rowgroup\",\n      className: this.addPrefix('header-row-wrapper'),\n      ref: this.headerWrapperRef\n    }, this.renderRow(rowProps, headerCells)));\n  };\n\n  _proto.renderTableBody = function renderTableBody(bodyCells, rowWidth) {\n    var _this$props22 = this.props,\n        rowExpandedHeight = _this$props22.rowExpandedHeight,\n        renderRowExpanded = _this$props22.renderRowExpanded,\n        isTree = _this$props22.isTree,\n        rowKey = _this$props22.rowKey,\n        wordWrap = _this$props22.wordWrap,\n        virtualized = _this$props22.virtualized,\n        rowHeight = _this$props22.rowHeight;\n    var headerHeight = this.getTableHeaderHeight();\n    var _this$state7 = this.state,\n        tableRowsMaxHeight = _this$state7.tableRowsMaxHeight,\n        isScrolling = _this$state7.isScrolling,\n        data = _this$state7.data;\n    var height = this.getTableHeight();\n    var bodyHeight = height - headerHeight;\n    var bodyStyles = {\n      top: headerHeight,\n      height: bodyHeight\n    };\n    var contentHeight = 0;\n    var topHideHeight = 0;\n    var bottomHideHeight = 0;\n    this._visibleRows = [];\n\n    if (data) {\n      var top = 0; // Row position\n\n      var minTop = Math.abs(this.scrollY);\n      var maxTop = minTop + height + rowExpandedHeight;\n      var isCustomRowHeight = typeof rowHeight === 'function';\n      var isUncertainHeight = !!(renderRowExpanded || isCustomRowHeight || isTree);\n      /**\n      如果开启了 virtualized  同时 Table 中的的行高是可变的，\n      则需要循环遍历 data, 获取每一行的高度。\n      */\n\n      if (isUncertainHeight && virtualized || !virtualized) {\n        for (var index = 0; index < data.length; index++) {\n          var rowData = data[index];\n          var maxHeight = tableRowsMaxHeight[index];\n          var shouldRenderExpandedRow = this.shouldRenderExpandedRow(rowData);\n          var nextRowHeight = 0;\n          var depth = 0;\n\n          if (typeof rowHeight === 'function') {\n            nextRowHeight = rowHeight(rowData);\n          } else {\n            nextRowHeight = maxHeight ? Math.max(maxHeight + CELL_PADDING_HEIGHT, rowHeight) : rowHeight;\n\n            if (shouldRenderExpandedRow) {\n              nextRowHeight += rowExpandedHeight;\n            }\n          }\n\n          if (isTree) {\n            var parents = findAllParents(rowData, rowKey);\n            var expandedRowKeys = this.getExpandedRowKeys();\n            depth = parents.length; //  如果是 Tree Table,  判断当前的行是否展开/折叠，如果是折叠则不显示该行。\n\n            if (!shouldShowRowByExpanded(expandedRowKeys, parents)) {\n              continue;\n            }\n          }\n\n          contentHeight += nextRowHeight;\n          var rowProps = {\n            key: index,\n            top: top,\n            width: rowWidth,\n            depth: depth,\n            height: nextRowHeight\n          };\n          top += nextRowHeight;\n\n          if (virtualized && !wordWrap) {\n            if (top + nextRowHeight < minTop) {\n              topHideHeight += nextRowHeight;\n              continue;\n            } else if (top > maxTop) {\n              bottomHideHeight += nextRowHeight;\n              continue;\n            }\n          }\n\n          this._visibleRows.push(this.renderRowData(bodyCells, rowData, rowProps, shouldRenderExpandedRow));\n        }\n      } else {\n        /**\n        如果 Table 的行高是固定的，则直接通过行高与行数进行计算，\n        减少遍历所有 data 带来的性能消耗\n        */\n        var _nextRowHeight = this.getRowHeight();\n\n        var startIndex = Math.max(Math.floor(minTop / _nextRowHeight), 0);\n        var endIndex = Math.min(startIndex + Math.ceil(bodyHeight / _nextRowHeight), data.length);\n        contentHeight = data.length * _nextRowHeight;\n        topHideHeight = startIndex * _nextRowHeight;\n        bottomHideHeight = (data.length - endIndex) * _nextRowHeight;\n\n        for (var _index = startIndex; _index < endIndex; _index++) {\n          var _rowData = data[_index];\n          var _rowProps = {\n            key: _index,\n            top: _index * _nextRowHeight,\n            width: rowWidth,\n            height: _nextRowHeight\n          };\n\n          this._visibleRows.push(this.renderRowData(bodyCells, _rowData, _rowProps, false));\n        }\n      }\n    }\n\n    var wheelStyles = {\n      position: 'absolute',\n      height: contentHeight,\n      minHeight: height,\n      pointerEvents: isScrolling ? 'none' : undefined\n    };\n    var topRowStyles = {\n      height: topHideHeight\n    };\n    var bottomRowStyles = {\n      height: bottomHideHeight\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.tableBodyRef,\n      role: \"rowgroup\",\n      className: this.addPrefix('body-row-wrapper'),\n      style: bodyStyles,\n      onScroll: this.handleBodyScroll\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: wheelStyles,\n      className: this.addPrefix('body-wheel-area'),\n      ref: this.wheelWrapperRef\n    }, topHideHeight ? /*#__PURE__*/React.createElement(Row, {\n      style: topRowStyles,\n      className: \"virtualized\"\n    }) : null, this._visibleRows, bottomHideHeight ? /*#__PURE__*/React.createElement(Row, {\n      style: bottomRowStyles,\n      className: \"virtualized\"\n    }) : null), this.renderInfo(), this.renderScrollbar(), this.renderLoading());\n  };\n\n  _proto.renderInfo = function renderInfo() {\n    var _this$props23 = this.props,\n        locale = _this$props23.locale,\n        renderEmpty = _this$props23.renderEmpty,\n        loading = _this$props23.loading;\n\n    if (this._visibleRows.length || loading) {\n      return null;\n    }\n\n    var emptyMessage = /*#__PURE__*/React.createElement(\"div\", {\n      className: this.addPrefix('body-info')\n    }, locale.emptyMessage);\n    return renderEmpty ? renderEmpty(emptyMessage) : emptyMessage;\n  };\n\n  _proto.renderScrollbar = function renderScrollbar() {\n    var _this$props24 = this.props,\n        disabledScroll = _this$props24.disabledScroll,\n        affixHorizontalScrollbar = _this$props24.affixHorizontalScrollbar,\n        id = _this$props24.id;\n    var _this$state8 = this.state,\n        contentWidth = _this$state8.contentWidth,\n        contentHeight = _this$state8.contentHeight,\n        width = _this$state8.width,\n        fixedHorizontalScrollbar = _this$state8.fixedHorizontalScrollbar;\n    var bottom = typeof affixHorizontalScrollbar === 'number' ? affixHorizontalScrollbar : 0;\n    var headerHeight = this.getTableHeaderHeight();\n    var height = this.getTableHeight();\n\n    if (disabledScroll) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Scrollbar, {\n      tableId: id,\n      className: classNames({\n        fixed: fixedHorizontalScrollbar\n      }),\n      style: {\n        width: width,\n        bottom: fixedHorizontalScrollbar ? bottom : undefined\n      },\n      length: this.state.width,\n      onScroll: this.handleScrollX,\n      scrollLength: contentWidth,\n      ref: this.scrollbarXRef\n    }), /*#__PURE__*/React.createElement(Scrollbar, {\n      vertical: true,\n      tableId: id,\n      length: height - headerHeight,\n      scrollLength: contentHeight,\n      onScroll: this.handleScrollY,\n      ref: this.scrollbarYRef\n    }));\n  }\n  /**\n   *  show loading\n   */\n  ;\n\n  _proto.renderLoading = function renderLoading() {\n    var _this$props25 = this.props,\n        locale = _this$props25.locale,\n        loading = _this$props25.loading,\n        loadAnimation = _this$props25.loadAnimation,\n        renderLoading = _this$props25.renderLoading;\n\n    if (!loadAnimation && !loading) {\n      return null;\n    }\n\n    var loadingElement = /*#__PURE__*/React.createElement(\"div\", {\n      className: this.addPrefix('loader-wrapper')\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: this.addPrefix('loader')\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: this.addPrefix('loader-icon')\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: this.addPrefix('loader-text')\n    }, locale.loading)));\n    return renderLoading ? renderLoading(loadingElement) : loadingElement;\n  };\n\n  _proto.render = function render() {\n    var _classNames;\n\n    var _this$props26 = this.props,\n        children = _this$props26.children,\n        className = _this$props26.className,\n        data = _this$props26.data,\n        _this$props26$width = _this$props26.width,\n        width = _this$props26$width === void 0 ? 0 : _this$props26$width,\n        style = _this$props26.style,\n        isTree = _this$props26.isTree,\n        hover = _this$props26.hover,\n        bordered = _this$props26.bordered,\n        cellBordered = _this$props26.cellBordered,\n        wordWrap = _this$props26.wordWrap,\n        classPrefix = _this$props26.classPrefix,\n        loading = _this$props26.loading,\n        showHeader = _this$props26.showHeader,\n        rest = _objectWithoutPropertiesLoose(_this$props26, [\"children\", \"className\", \"data\", \"width\", \"style\", \"isTree\", \"hover\", \"bordered\", \"cellBordered\", \"wordWrap\", \"classPrefix\", \"loading\", \"showHeader\"]);\n\n    var isColumnResizing = this.state.isColumnResizing;\n\n    var _this$getCellDescript = this.getCellDescriptor(),\n        headerCells = _this$getCellDescript.headerCells,\n        bodyCells = _this$getCellDescript.bodyCells,\n        allColumnsWidth = _this$getCellDescript.allColumnsWidth,\n        hasCustomTreeCol = _this$getCellDescript.hasCustomTreeCol;\n\n    var rowWidth = allColumnsWidth > width ? allColumnsWidth : width;\n    var clesses = classNames(classPrefix, className, (_classNames = {}, _classNames[this.addPrefix('word-wrap')] = wordWrap, _classNames[this.addPrefix('treetable')] = isTree, _classNames[this.addPrefix('bordered')] = bordered, _classNames[this.addPrefix('cell-bordered')] = cellBordered, _classNames[this.addPrefix('column-resizing')] = isColumnResizing, _classNames[this.addPrefix('hover')] = hover, _classNames[this.addPrefix('loading')] = loading, _classNames));\n\n    var styles = _extends({\n      width: width || 'auto',\n      height: this.getTableHeight()\n    }, style);\n\n    var unhandled = getUnhandledProps(propTypes, rest);\n    return /*#__PURE__*/React.createElement(TableContext.Provider, {\n      value: {\n        translateDOMPositionXY: this.translateDOMPositionXY,\n        rtl: this.isRTL(),\n        isTree: isTree,\n        hasCustomTreeCol: hasCustomTreeCol\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", _extends({\n      role: isTree ? 'treegrid' : 'grid' // The aria-rowcount is specified on the element with the table.\n      // Its value is an integer equal to the total number of rows available, including header rows.\n      ,\n      \"aria-rowcount\": data.length + 1,\n      \"aria-colcount\": this._cacheChildrenSize\n    }, unhandled, {\n      className: clesses,\n      style: styles,\n      ref: this.tableRef\n    }), showHeader && this.renderTableHeader(headerCells, rowWidth), children && this.renderTableBody(bodyCells, rowWidth), showHeader && this.renderMouseArea()));\n  };\n\n  return Table;\n}(React.Component);\n\nTable.propTypes = propTypes;\nTable.defaultProps = {\n  classPrefix: defaultClassPrefix('table'),\n  data: [],\n  defaultSortType: SORT_TYPE.DESC,\n  height: 200,\n  rowHeight: 46,\n  headerHeight: 40,\n  minHeight: 0,\n  rowExpandedHeight: 100,\n  hover: true,\n  showHeader: true,\n  rowKey: 'key',\n  translate3d: true,\n  shouldUpdateScroll: true,\n  locale: {\n    emptyMessage: 'No data found',\n    loading: 'Loading...'\n  }\n};\nexport default Table;","map":{"version":3,"names":["_objectWithoutPropertiesLoose","_extends","_inheritsLoose","React","PropTypes","classNames","isFunction","flatten","debounce","isEqual","eq","omit","merge","bindElementResize","unbind","unbindElementResize","getTranslateDOMPositionXY","addStyle","getWidth","getHeight","WheelHandler","scrollLeft","scrollTop","on","getOffset","Row","CellGroup","Scrollbar","TableContext","SCROLLBAR_WIDTH","CELL_PADDING_HEIGHT","getTotalByColumns","mergeCells","getUnhandledProps","defaultClassPrefix","toggleClass","flattenData","prefix","requestAnimationTimeout","cancelAnimationTimeout","isRTL","_isRTL","isNumberOrTrue","findRowKeys","findAllParents","shouldShowRowByExpanded","resetLeftForCells","ColumnGroup","isFragment","SORT_TYPE","DESC","ASC","propTypes","autoHeight","bool","affixHeader","oneOfType","number","affixHorizontalScrollbar","bordered","bodyRef","func","className","string","classPrefix","children","any","cellBordered","data","arrayOf","object","defaultExpandAllRows","defaultExpandedRowKeys","defaultSortType","disabledScroll","expandedRowKeys","hover","height","headerHeight","locale","loading","loadAnimation","minHeight","rowKey","rowHeight","renderTreeToggle","renderRowExpanded","rowExpandedHeight","renderEmpty","renderLoading","rowClassName","rtl","style","sortColumn","sortType","showHeader","shouldUpdateScroll","translate3d","wordWrap","width","virtualized","isTree","onRowClick","onRowContextMenu","onScroll","onSortColumn","onExpandChange","onTouchStart","onTouchMove","onDataUpdated","Table","_React$Component","getDerivedStateFromProps","props","state","cacheData","_this","call","translateDOMPositionXY","scrollListener","tableRef","scrollbarYRef","scrollbarXRef","tableBodyRef","affixHeaderWrapperRef","mouseAreaRef","headerWrapperRef","tableHeaderRef","wheelWrapperRef","tableRows","mounted","disableEventsTimeoutId","scrollY","scrollX","wheelHandler","minScrollY","minScrollX","mouseArea","touchX","touchY","wheelListener","touchStartListener","touchMoveListener","_cacheCells","_cacheChildrenSize","_visibleRows","listenWheel","deltaX","deltaY","_this$scrollbarXRef$c","_this$scrollbarXRef$c2","_this$scrollbarYRef$c","_this$scrollbarYRef$c2","handleWheel","current","onWheelScroll","setOffsetByAffix","_this$headerWrapperRe","_this$tableRef","_this$props","headerNode","setState","headerOffset","tableNode","tableOffset","handleWindowScroll","_this$props2","affixTableHeader","_this$scrollbarXRef","_this$scrollbarXRef$c3","_this$scrollbarXRef$c4","window","pageYOffset","windowHeight","getTableHeight","_this$state","fixedHorizontalScrollbar","getTableHeaderHeight","bottom","fixedScrollbar","top","barRef","_this$state2","contentHeight","fixedHeader","handleSortColumn","dataKey","_this$props$onSortCol","_this$props3","getSortType","handleColumnResizeEnd","columnWidth","_cursorDelta","index","_this$setState","isColumnResizing","display","handleColumnResizeStart","left","fixed","handleColumnResizeMove","_addStyle","mouseAreaLeft","x","dir","handleTreeToggle","_rowIndex","rowData","_this$props$onExpandC","_this$props4","getExpandedRowKeys","open","nextExpandedRowKeys","i","length","_key","push","handleScrollX","delta","handleScrollY","_this$props5","_this$state3","contentWidth","nextScrollX","nextScrollY","Math","min","updatePosition","isScrolling","debounceScrollEndedCallback","handleTouchStart","event","_this$props$onTouchSt","_this$props6","touches","_event$touches$","pageX","pageY","handleTouchMove","_this$props$onTouchMo","_this$props7","_event$preventDefault","_this$scrollbarXRef$c5","_this$scrollbarXRef$c6","_this$scrollbarYRef$c3","_this$scrollbarYRef$c4","_event$touches$2","shouldHandleWheelY","shouldHandleWheelX","preventDefault","handleBodyScroll","target","_this$props8","_this$props9","addPrefix","name","calculateTableWidth","_this$tableRef2","table","nextWidth","_this$scrollbarXRef2","_this$scrollbarXRef2$","resetScrollBarPosition","_this$scrollbarYRef","_this$scrollbarYRef$c5","_this$scrollbarYRef$c6","_this$getControlledSc","getControlledScrollTopValue","forceUpdate","_this$scrollbarXRef3","_this$scrollbarXRef3$","_this$scrollbarXRef3$2","_this$getControlledSc2","getControlledScrollLeftValue","scrollTo","coord","_ref","y","bindTableRowsRef","ref","bindRowClick","_this$props$onRowClic","_this$props10","bindRowContextMenu","_this$props$onRowCont","_this$props11","_width","_rowKey","_props$children","_expandedRowKeys","shouldFixedColumn","Array","from","some","child","Error","tableRowsMaxHeight","enable3DTransform","createRef","_proto","prototype","componentDidMount","_this$props13","_this$props13$bodyRef","calculateTableContextHeight","calculateRowMaxHeight","initPosition","options","passive","tableBody","onWheel","_this$props12","shouldComponentUpdate","nextProps","nextState","componentDidUpdate","prevProps","prevState","_this$props$onDataUpd","_this$props14","maxHeight","abs","calculateTableContentWidth","componentWillUnmount","_this$wheelListener","_this$touchStartListe","_this$touchMoveListen","_this$scrollListener","off","getScrollCellGroups","_this$tableRef$curren","querySelectorAll","getFixedLeftCellGroups","_this$tableRef$curren2","getFixedRightCellGroups","_this$tableRef$curren3","getRowHeight","_this$props15","_this$props16","max","getTableColumns","isArray","flattenColumns","map","column","type","_column$props","header","childColumns","align","verticalAlign","childColumn","groupCellProps","groupCount","groupHeader","resizable","cloneElement","filter","col","getCellDescriptor","_this2","hasCustomTreeCol","headerCells","bodyCells","allColumnsWidth","columns","tableWidth","_this$props17","_getTotalByColumns","totalFlexGrow","totalWidth","Children","forEach","isValidElement","columnChildren","_column$props2","flexGrow","minWidth","onResize","treeCol","console","warn","cellProps","key","firstColumn","lastColumn","headerCellProps","isHeaderCell","sortable","onColumnResizeEnd","onColumnResizeStart","onColumnResizeMove","_this3","setTimeout","_this3$scrollbarXRef","_this3$scrollbarXRef$","_this3$scrollbarXRef$2","_this3$state","_this$tableHeaderRef","updatePositionByFixedCell","_this$wheelWrapperRef","_this$headerWrapperRe2","_this$affixHeaderWrap","_affixHeaderElement$h","wheelStyle","headerStyle","wheelElement","headerElement","affixHeaderElement","hasChildNodes","firstChild","_this$wheelWrapperRef2","wheelGroupStyle","scrollGroups","fixedLeftGroups","fixedRightGroups","_this$state4","scrollArrayGroups","group","leftShadowClassName","rightShadowClassName","showLeftShadow","showRightShadow","shouldRenderExpandedRow","_this$props18","Object","values","_tableRows$i","row","cells","cellArray","j","cell","h","_this$tableRef3","querySelector","rows","_this$props19","reduce","nextContentHeight","value","_this$state5","renderRowData","_this$props20","hasChildren","nextRowKey","rowProps","rowRef","onClick","onContextMenu","expanded","rowIndex","depth","onTreeToggle","renderRow","_this$state6","restRowProps","rowStyles","rowRight","right","fixedLeftCells","fixedRightCells","scrollCells","fixedLeftCellGroupWidth","fixedRightCellGroupWidth","_cell$props","_width2","isFixedStart","isFixedEnd","createElement","isHeaderRow","_this$props21","styles","renderMouseArea","spanStyles","renderTableHeader","rowWidth","fixedStyle","position","overflow","Fragment","role","renderTableBody","_this$props22","_this$state7","bodyHeight","bodyStyles","topHideHeight","bottomHideHeight","minTop","maxTop","isCustomRowHeight","isUncertainHeight","nextRowHeight","parents","_nextRowHeight","startIndex","floor","endIndex","ceil","_index","_rowData","_rowProps","wheelStyles","pointerEvents","undefined","topRowStyles","bottomRowStyles","renderInfo","renderScrollbar","_this$props23","emptyMessage","_this$props24","id","_this$state8","tableId","scrollLength","vertical","_this$props25","loadingElement","render","_classNames","_this$props26","_this$props26$width","rest","_this$getCellDescript","clesses","unhandled","Provider","Component","defaultProps"],"sources":["/Users/lixupeng/Local-Work/frontend/apps/dashboard/node_modules/rsuite-table/es/Table.js"],"sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport isFunction from 'lodash/isFunction';\nimport flatten from 'lodash/flatten';\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\nimport eq from 'lodash/eq';\nimport omit from 'lodash/omit';\nimport merge from 'lodash/merge';\nimport bindElementResize, { unbind as unbindElementResize } from 'element-resize-event';\nimport { getTranslateDOMPositionXY } from 'dom-lib/lib/transition/translateDOMPositionXY';\nimport { addStyle, getWidth, getHeight, WheelHandler, scrollLeft, scrollTop, on, getOffset } from 'dom-lib';\nimport Row from './Row';\nimport CellGroup from './CellGroup';\nimport Scrollbar from './Scrollbar';\nimport TableContext from './TableContext';\nimport { SCROLLBAR_WIDTH, CELL_PADDING_HEIGHT } from './constants';\nimport { getTotalByColumns, mergeCells, getUnhandledProps, defaultClassPrefix, toggleClass, flattenData, prefix, requestAnimationTimeout, cancelAnimationTimeout, isRTL as _isRTL, isNumberOrTrue, findRowKeys, findAllParents, shouldShowRowByExpanded, resetLeftForCells } from './utils';\nimport ColumnGroup from './ColumnGroup';\nimport { isFragment } from 'react-is';\nvar SORT_TYPE = {\n  DESC: 'desc',\n  ASC: 'asc'\n};\nvar propTypes = {\n  autoHeight: PropTypes.bool,\n  affixHeader: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  affixHorizontalScrollbar: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  bordered: PropTypes.bool,\n  bodyRef: PropTypes.func,\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  children: PropTypes.any,\n  cellBordered: PropTypes.bool,\n  data: PropTypes.arrayOf(PropTypes.object),\n  defaultExpandAllRows: PropTypes.bool,\n  defaultExpandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  defaultSortType: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  disabledScroll: PropTypes.bool,\n  expandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  hover: PropTypes.bool,\n  height: PropTypes.number,\n  headerHeight: PropTypes.number,\n  locale: PropTypes.object,\n  loading: PropTypes.bool,\n  loadAnimation: PropTypes.bool,\n  minHeight: PropTypes.number,\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  rowHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  renderTreeToggle: PropTypes.func,\n  renderRowExpanded: PropTypes.func,\n  rowExpandedHeight: PropTypes.number,\n  renderEmpty: PropTypes.func,\n  renderLoading: PropTypes.func,\n  rowClassName: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  rtl: PropTypes.bool,\n  style: PropTypes.object,\n  sortColumn: PropTypes.string,\n  sortType: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  showHeader: PropTypes.bool,\n  shouldUpdateScroll: PropTypes.bool,\n  translate3d: PropTypes.bool,\n  wordWrap: PropTypes.bool,\n  width: PropTypes.number,\n  virtualized: PropTypes.bool,\n  isTree: PropTypes.bool,\n  onRowClick: PropTypes.func,\n  onRowContextMenu: PropTypes.func,\n  onScroll: PropTypes.func,\n  onSortColumn: PropTypes.func,\n  onExpandChange: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  onTouchMove: PropTypes.func,\n  onDataUpdated: PropTypes.func\n};\n\nvar Table = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Table, _React$Component);\n\n  Table.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (props.data !== state.cacheData || props.isTree !== state.isTree) {\n      return {\n        cacheData: props.data,\n        isTree: props.isTree,\n        data: props.isTree ? flattenData(props.data) : props.data\n      };\n    }\n\n    return null;\n  };\n\n  function Table(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.translateDOMPositionXY = null;\n    _this.scrollListener = null;\n    _this.tableRef = void 0;\n    _this.scrollbarYRef = void 0;\n    _this.scrollbarXRef = void 0;\n    _this.tableBodyRef = void 0;\n    _this.affixHeaderWrapperRef = void 0;\n    _this.mouseAreaRef = void 0;\n    _this.headerWrapperRef = void 0;\n    _this.tableHeaderRef = void 0;\n    _this.wheelWrapperRef = void 0;\n    _this.tableRows = {};\n    _this.mounted = false;\n    _this.disableEventsTimeoutId = null;\n    _this.scrollY = 0;\n    _this.scrollX = 0;\n    _this.wheelHandler = void 0;\n    _this.minScrollY = void 0;\n    _this.minScrollX = void 0;\n    _this.mouseArea = void 0;\n    _this.touchX = void 0;\n    _this.touchY = void 0;\n    _this.wheelListener = void 0;\n    _this.touchStartListener = void 0;\n    _this.touchMoveListener = void 0;\n    _this._cacheCells = null;\n    _this._cacheChildrenSize = 0;\n    _this._visibleRows = [];\n\n    _this.listenWheel = function (deltaX, deltaY) {\n      var _this$scrollbarXRef$c, _this$scrollbarXRef$c2, _this$scrollbarYRef$c, _this$scrollbarYRef$c2;\n\n      _this.handleWheel(deltaX, deltaY);\n\n      (_this$scrollbarXRef$c = _this.scrollbarXRef.current) === null || _this$scrollbarXRef$c === void 0 ? void 0 : (_this$scrollbarXRef$c2 = _this$scrollbarXRef$c.onWheelScroll) === null || _this$scrollbarXRef$c2 === void 0 ? void 0 : _this$scrollbarXRef$c2.call(_this$scrollbarXRef$c, deltaX);\n      (_this$scrollbarYRef$c = _this.scrollbarYRef.current) === null || _this$scrollbarYRef$c === void 0 ? void 0 : (_this$scrollbarYRef$c2 = _this$scrollbarYRef$c.onWheelScroll) === null || _this$scrollbarYRef$c2 === void 0 ? void 0 : _this$scrollbarYRef$c2.call(_this$scrollbarYRef$c, deltaY);\n    };\n\n    _this.setOffsetByAffix = function () {\n      var _this$headerWrapperRe, _this$tableRef;\n\n      var _this$props = _this.props,\n          affixHeader = _this$props.affixHeader,\n          affixHorizontalScrollbar = _this$props.affixHorizontalScrollbar;\n      var headerNode = (_this$headerWrapperRe = _this.headerWrapperRef) === null || _this$headerWrapperRe === void 0 ? void 0 : _this$headerWrapperRe.current;\n\n      if (isNumberOrTrue(affixHeader) && headerNode) {\n        _this.setState(function () {\n          return {\n            headerOffset: getOffset(headerNode)\n          };\n        });\n      }\n\n      var tableNode = (_this$tableRef = _this.tableRef) === null || _this$tableRef === void 0 ? void 0 : _this$tableRef.current;\n\n      if (isNumberOrTrue(affixHorizontalScrollbar) && tableNode) {\n        _this.setState(function () {\n          return {\n            tableOffset: getOffset(tableNode)\n          };\n        });\n      }\n    };\n\n    _this.handleWindowScroll = function () {\n      var _this$props2 = _this.props,\n          affixHeader = _this$props2.affixHeader,\n          affixHorizontalScrollbar = _this$props2.affixHorizontalScrollbar;\n\n      if (isNumberOrTrue(affixHeader)) {\n        _this.affixTableHeader();\n      }\n\n      if (isNumberOrTrue(affixHorizontalScrollbar)) {\n        _this.affixHorizontalScrollbar();\n      }\n    };\n\n    _this.affixHorizontalScrollbar = function () {\n      var _this$scrollbarXRef, _this$scrollbarXRef$c3, _this$scrollbarXRef$c4;\n\n      var scrollY = window.scrollY || window.pageYOffset;\n      var windowHeight = getHeight(window);\n\n      var height = _this.getTableHeight();\n\n      var _this$state = _this.state,\n          tableOffset = _this$state.tableOffset,\n          fixedHorizontalScrollbar = _this$state.fixedHorizontalScrollbar;\n      var affixHorizontalScrollbar = _this.props.affixHorizontalScrollbar;\n\n      var headerHeight = _this.getTableHeaderHeight();\n\n      var bottom = typeof affixHorizontalScrollbar === 'number' ? affixHorizontalScrollbar : 0;\n      var fixedScrollbar = scrollY + windowHeight < height + (tableOffset.top + bottom) && scrollY + windowHeight - headerHeight > tableOffset.top + bottom;\n\n      if ((_this$scrollbarXRef = _this.scrollbarXRef) !== null && _this$scrollbarXRef !== void 0 && (_this$scrollbarXRef$c3 = _this$scrollbarXRef.current) !== null && _this$scrollbarXRef$c3 !== void 0 && (_this$scrollbarXRef$c4 = _this$scrollbarXRef$c3.barRef) !== null && _this$scrollbarXRef$c4 !== void 0 && _this$scrollbarXRef$c4.current && fixedHorizontalScrollbar !== fixedScrollbar) {\n        _this.setState({\n          fixedHorizontalScrollbar: fixedScrollbar\n        });\n      }\n    };\n\n    _this.affixTableHeader = function () {\n      var affixHeader = _this.props.affixHeader;\n      var top = typeof affixHeader === 'number' ? affixHeader : 0;\n      var _this$state2 = _this.state,\n          headerOffset = _this$state2.headerOffset,\n          contentHeight = _this$state2.contentHeight;\n      var scrollY = window.scrollY || window.pageYOffset;\n      var fixedHeader = scrollY - (headerOffset.top - top) >= 0 && scrollY < headerOffset.top - top + contentHeight;\n\n      if (_this.affixHeaderWrapperRef.current) {\n        toggleClass(_this.affixHeaderWrapperRef.current, 'fixed', fixedHeader);\n      }\n    };\n\n    _this.handleSortColumn = function (dataKey) {\n      var _this$props$onSortCol, _this$props3;\n\n      var sortType = _this.getSortType();\n\n      if (_this.props.sortColumn === dataKey) {\n        sortType = sortType === SORT_TYPE.ASC ? SORT_TYPE.DESC : SORT_TYPE.ASC;\n\n        _this.setState({\n          sortType: sortType\n        });\n      }\n\n      (_this$props$onSortCol = (_this$props3 = _this.props).onSortColumn) === null || _this$props$onSortCol === void 0 ? void 0 : _this$props$onSortCol.call(_this$props3, dataKey, sortType);\n    };\n\n    _this.handleColumnResizeEnd = function (columnWidth, _cursorDelta, dataKey, index) {\n      var _this$setState;\n\n      _this._cacheCells = null;\n\n      _this.setState((_this$setState = {\n        isColumnResizing: false\n      }, _this$setState[dataKey + \"_\" + index + \"_width\"] = columnWidth, _this$setState));\n\n      addStyle(_this.mouseAreaRef.current, {\n        display: 'none'\n      });\n    };\n\n    _this.handleColumnResizeStart = function (width, left, fixed) {\n      _this.setState({\n        isColumnResizing: true\n      });\n\n      _this.handleColumnResizeMove(width, left, fixed);\n    };\n\n    _this.handleColumnResizeMove = function (width, left, fixed) {\n      var _addStyle;\n\n      var mouseAreaLeft = width + left;\n      var x = mouseAreaLeft;\n      var dir = 'left';\n\n      if (_this.isRTL()) {\n        mouseAreaLeft += _this.minScrollX + SCROLLBAR_WIDTH;\n        dir = 'right';\n      }\n\n      if (!fixed) {\n        x = mouseAreaLeft + (_this.isRTL() ? -_this.scrollX : _this.scrollX);\n      }\n\n      addStyle(_this.mouseAreaRef.current, (_addStyle = {\n        display: 'block'\n      }, _addStyle[dir] = x + \"px\", _addStyle));\n    };\n\n    _this.handleTreeToggle = function (rowKey, _rowIndex, rowData) {\n      var _this$props$onExpandC, _this$props4;\n\n      var expandedRowKeys = _this.getExpandedRowKeys();\n\n      var open = false;\n      var nextExpandedRowKeys = [];\n\n      for (var i = 0; i < expandedRowKeys.length; i++) {\n        var _key = expandedRowKeys[i];\n\n        if (_key === rowKey) {\n          open = true;\n        } else {\n          nextExpandedRowKeys.push(_key);\n        }\n      }\n\n      if (!open) {\n        nextExpandedRowKeys.push(rowKey);\n      }\n\n      _this.setState({\n        expandedRowKeys: nextExpandedRowKeys\n      });\n\n      (_this$props$onExpandC = (_this$props4 = _this.props).onExpandChange) === null || _this$props$onExpandC === void 0 ? void 0 : _this$props$onExpandC.call(_this$props4, !open, rowData);\n    };\n\n    _this.handleScrollX = function (delta) {\n      _this.handleWheel(delta, 0);\n    };\n\n    _this.handleScrollY = function (delta) {\n      _this.handleWheel(0, delta);\n    };\n\n    _this.handleWheel = function (deltaX, deltaY) {\n      var _this$props5 = _this.props,\n          onScroll = _this$props5.onScroll,\n          virtualized = _this$props5.virtualized;\n      var _this$state3 = _this.state,\n          contentWidth = _this$state3.contentWidth,\n          width = _this$state3.width;\n\n      if (!_this.tableRef.current) {\n        return;\n      }\n\n      var nextScrollX = contentWidth <= width ? 0 : _this.scrollX - deltaX;\n      var nextScrollY = _this.scrollY - deltaY;\n      _this.scrollY = Math.min(0, nextScrollY < _this.minScrollY ? _this.minScrollY : nextScrollY);\n      _this.scrollX = Math.min(0, nextScrollX < _this.minScrollX ? _this.minScrollX : nextScrollX);\n\n      _this.updatePosition();\n\n      onScroll === null || onScroll === void 0 ? void 0 : onScroll(_this.scrollX, _this.scrollY);\n\n      if (virtualized) {\n        _this.setState({\n          isScrolling: true,\n          scrollY: _this.scrollY\n        });\n\n        if (_this.disableEventsTimeoutId) {\n          cancelAnimationTimeout(_this.disableEventsTimeoutId);\n        }\n\n        _this.disableEventsTimeoutId = requestAnimationTimeout(_this.debounceScrollEndedCallback, 150);\n      }\n    };\n\n    _this.debounceScrollEndedCallback = function () {\n      _this.disableEventsTimeoutId = null;\n\n      _this.setState({\n        isScrolling: false\n      });\n    };\n\n    _this.handleTouchStart = function (event) {\n      var _this$props$onTouchSt, _this$props6;\n\n      if (event.touches) {\n        var _event$touches$ = event.touches[0],\n            pageX = _event$touches$.pageX,\n            pageY = _event$touches$.pageY;\n        _this.touchX = pageX;\n        _this.touchY = pageY;\n      }\n\n      (_this$props$onTouchSt = (_this$props6 = _this.props).onTouchStart) === null || _this$props$onTouchSt === void 0 ? void 0 : _this$props$onTouchSt.call(_this$props6, event);\n    };\n\n    _this.handleTouchMove = function (event) {\n      var _this$props$onTouchMo, _this$props7;\n\n      var autoHeight = _this.props.autoHeight;\n\n      if (event.touches) {\n        var _event$preventDefault, _this$scrollbarXRef$c5, _this$scrollbarXRef$c6, _this$scrollbarYRef$c3, _this$scrollbarYRef$c4;\n\n        var _event$touches$2 = event.touches[0],\n            pageX = _event$touches$2.pageX,\n            pageY = _event$touches$2.pageY;\n        var deltaX = _this.touchX - pageX;\n        var deltaY = autoHeight ? 0 : _this.touchY - pageY;\n\n        if (!_this.shouldHandleWheelY(deltaY) && !_this.shouldHandleWheelX(deltaX)) {\n          return;\n        }\n\n        (_event$preventDefault = event.preventDefault) === null || _event$preventDefault === void 0 ? void 0 : _event$preventDefault.call(event);\n\n        _this.handleWheel(deltaX, deltaY);\n\n        (_this$scrollbarXRef$c5 = _this.scrollbarXRef.current) === null || _this$scrollbarXRef$c5 === void 0 ? void 0 : (_this$scrollbarXRef$c6 = _this$scrollbarXRef$c5.onWheelScroll) === null || _this$scrollbarXRef$c6 === void 0 ? void 0 : _this$scrollbarXRef$c6.call(_this$scrollbarXRef$c5, deltaX);\n        (_this$scrollbarYRef$c3 = _this.scrollbarYRef.current) === null || _this$scrollbarYRef$c3 === void 0 ? void 0 : (_this$scrollbarYRef$c4 = _this$scrollbarYRef$c3.onWheelScroll) === null || _this$scrollbarYRef$c4 === void 0 ? void 0 : _this$scrollbarYRef$c4.call(_this$scrollbarYRef$c3, deltaY);\n        _this.touchX = pageX;\n        _this.touchY = pageY;\n      }\n\n      (_this$props$onTouchMo = (_this$props7 = _this.props).onTouchMove) === null || _this$props$onTouchMo === void 0 ? void 0 : _this$props$onTouchMo.call(_this$props7, event);\n    };\n\n    _this.handleBodyScroll = function (event) {\n      if (event.target !== _this.tableBodyRef.current) {\n        return;\n      }\n\n      var left = scrollLeft(event.target);\n      var top = scrollTop(event.target);\n\n      if (top === 0 && left === 0) {\n        return;\n      }\n\n      _this.listenWheel(left, top);\n\n      scrollLeft(event.target, 0);\n      scrollTop(event.target, 0);\n    };\n\n    _this.shouldHandleWheelX = function (delta) {\n      var _this$props8 = _this.props,\n          disabledScroll = _this$props8.disabledScroll,\n          loading = _this$props8.loading;\n\n      if (delta === 0 || disabledScroll || loading) {\n        return false;\n      }\n\n      return true;\n    };\n\n    _this.shouldHandleWheelY = function (delta) {\n      var _this$props9 = _this.props,\n          disabledScroll = _this$props9.disabledScroll,\n          loading = _this$props9.loading;\n\n      if (delta === 0 || disabledScroll || loading) {\n        return false;\n      }\n\n      return delta >= 0 && _this.scrollY > _this.minScrollY || delta < 0 && _this.scrollY < 0;\n    };\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    _this.calculateTableWidth = function () {\n      var _this$tableRef2;\n\n      var table = (_this$tableRef2 = _this.tableRef) === null || _this$tableRef2 === void 0 ? void 0 : _this$tableRef2.current;\n      var width = _this.state.width;\n\n      if (table) {\n        var nextWidth = getWidth(table);\n\n        if (width !== nextWidth) {\n          var _this$scrollbarXRef2, _this$scrollbarXRef2$;\n\n          _this.scrollX = 0;\n          (_this$scrollbarXRef2 = _this.scrollbarXRef) === null || _this$scrollbarXRef2 === void 0 ? void 0 : (_this$scrollbarXRef2$ = _this$scrollbarXRef2.current) === null || _this$scrollbarXRef2$ === void 0 ? void 0 : _this$scrollbarXRef2$.resetScrollBarPosition();\n        }\n\n        _this._cacheCells = null;\n\n        _this.setState({\n          width: nextWidth\n        });\n      }\n\n      _this.setOffsetByAffix();\n    };\n\n    _this.scrollTop = function (top) {\n      var _this$scrollbarYRef, _this$scrollbarYRef$c5, _this$scrollbarYRef$c6;\n\n      if (top === void 0) {\n        top = 0;\n      }\n\n      var _this$getControlledSc = _this.getControlledScrollTopValue(top),\n          scrollY = _this$getControlledSc[0],\n          handleScrollY = _this$getControlledSc[1];\n\n      _this.scrollY = scrollY;\n      (_this$scrollbarYRef = _this.scrollbarYRef) === null || _this$scrollbarYRef === void 0 ? void 0 : (_this$scrollbarYRef$c5 = _this$scrollbarYRef.current) === null || _this$scrollbarYRef$c5 === void 0 ? void 0 : (_this$scrollbarYRef$c6 = _this$scrollbarYRef$c5.resetScrollBarPosition) === null || _this$scrollbarYRef$c6 === void 0 ? void 0 : _this$scrollbarYRef$c6.call(_this$scrollbarYRef$c5, handleScrollY);\n\n      _this.updatePosition();\n      /**\n       * 当开启 virtualized，调用 scrollTop 后会出现白屏现象，\n       * 原因是直接操作 DOM 的坐标，但是组件没有重新渲染，需要调用 forceUpdate 重新进入 render。\n       * Fix: rsuite#1044\n       */\n\n\n      if (_this.props.virtualized && _this.state.contentHeight > _this.props.height) {\n        _this.forceUpdate();\n      }\n    };\n\n    _this.scrollLeft = function (left) {\n      var _this$scrollbarXRef3, _this$scrollbarXRef3$, _this$scrollbarXRef3$2;\n\n      if (left === void 0) {\n        left = 0;\n      }\n\n      var _this$getControlledSc2 = _this.getControlledScrollLeftValue(left),\n          scrollX = _this$getControlledSc2[0],\n          handleScrollX = _this$getControlledSc2[1];\n\n      _this.scrollX = scrollX;\n      (_this$scrollbarXRef3 = _this.scrollbarXRef) === null || _this$scrollbarXRef3 === void 0 ? void 0 : (_this$scrollbarXRef3$ = _this$scrollbarXRef3.current) === null || _this$scrollbarXRef3$ === void 0 ? void 0 : (_this$scrollbarXRef3$2 = _this$scrollbarXRef3$.resetScrollBarPosition) === null || _this$scrollbarXRef3$2 === void 0 ? void 0 : _this$scrollbarXRef3$2.call(_this$scrollbarXRef3$, handleScrollX);\n\n      _this.updatePosition();\n    };\n\n    _this.scrollTo = function (coord) {\n      var _ref = coord || {},\n          x = _ref.x,\n          y = _ref.y;\n\n      if (typeof x === 'number') {\n        _this.scrollLeft(x);\n      }\n\n      if (typeof y === 'number') {\n        _this.scrollTop(y);\n      }\n    };\n\n    _this.bindTableRowsRef = function (index, rowData) {\n      return function (ref) {\n        if (ref) {\n          _this.tableRows[index] = [ref, rowData];\n        }\n      };\n    };\n\n    _this.bindRowClick = function (rowData) {\n      return function (event) {\n        var _this$props$onRowClic, _this$props10;\n\n        (_this$props$onRowClic = (_this$props10 = _this.props).onRowClick) === null || _this$props$onRowClic === void 0 ? void 0 : _this$props$onRowClic.call(_this$props10, rowData, event);\n      };\n    };\n\n    _this.bindRowContextMenu = function (rowData) {\n      return function (event) {\n        var _this$props$onRowCont, _this$props11;\n\n        (_this$props$onRowCont = (_this$props11 = _this.props).onRowContextMenu) === null || _this$props$onRowCont === void 0 ? void 0 : _this$props$onRowCont.call(_this$props11, rowData, event);\n      };\n    };\n\n    var _width = props.width,\n        data = props.data,\n        _rowKey = props.rowKey,\n        defaultExpandAllRows = props.defaultExpandAllRows,\n        renderRowExpanded = props.renderRowExpanded,\n        defaultExpandedRowKeys = props.defaultExpandedRowKeys,\n        _props$children = props.children,\n        children = _props$children === void 0 ? [] : _props$children,\n        isTree = props.isTree,\n        defaultSortType = props.defaultSortType;\n\n    var _expandedRowKeys = defaultExpandAllRows ? findRowKeys(data, _rowKey, isFunction(renderRowExpanded)) : defaultExpandedRowKeys || [];\n\n    var shouldFixedColumn = Array.from(flatten(isFragment(children) ? children.props.children : children)).some(function (child) {\n      return child && child.props && child.props.fixed;\n    });\n\n    if (isTree && !_rowKey) {\n      throw new Error('The `rowKey` is required when set isTree');\n    }\n\n    _this.state = {\n      isTree: isTree,\n      expandedRowKeys: _expandedRowKeys,\n      shouldFixedColumn: shouldFixedColumn,\n      cacheData: data,\n      data: isTree ? flattenData(data) : data,\n      width: _width || 0,\n      columnWidth: 0,\n      dataKey: 0,\n      contentHeight: 0,\n      contentWidth: 0,\n      tableRowsMaxHeight: [],\n      sortType: defaultSortType,\n      scrollY: 0,\n      isScrolling: false,\n      fixedHeader: false\n    };\n    _this.scrollY = 0;\n    _this.scrollX = 0;\n    _this.wheelHandler = new WheelHandler(_this.listenWheel, _this.shouldHandleWheelX, _this.shouldHandleWheelY, false);\n    _this._cacheChildrenSize = flatten(children).length;\n    _this.translateDOMPositionXY = getTranslateDOMPositionXY({\n      enable3DTransform: props.translate3d\n    });\n    _this.tableRef = /*#__PURE__*/React.createRef();\n    _this.scrollbarYRef = /*#__PURE__*/React.createRef();\n    _this.scrollbarXRef = /*#__PURE__*/React.createRef();\n    _this.tableBodyRef = /*#__PURE__*/React.createRef();\n    _this.affixHeaderWrapperRef = /*#__PURE__*/React.createRef();\n    _this.mouseAreaRef = /*#__PURE__*/React.createRef();\n    _this.headerWrapperRef = /*#__PURE__*/React.createRef();\n    _this.wheelWrapperRef = /*#__PURE__*/React.createRef();\n    _this.tableHeaderRef = /*#__PURE__*/React.createRef();\n    return _this;\n  }\n\n  var _proto = Table.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this$props13, _this$props13$bodyRef;\n\n    this.calculateTableWidth();\n    this.calculateTableContextHeight();\n    this.calculateRowMaxHeight();\n    this.setOffsetByAffix();\n    this.initPosition();\n    bindElementResize(this.tableRef.current, debounce(this.calculateTableWidth, 400));\n    var options = {\n      passive: false\n    };\n    var tableBody = this.tableBodyRef.current;\n\n    if (tableBody) {\n      this.wheelListener = on(tableBody, 'wheel', this.wheelHandler.onWheel, options);\n      this.touchStartListener = on(tableBody, 'touchstart', this.handleTouchStart, options);\n      this.touchMoveListener = on(tableBody, 'touchmove', this.handleTouchMove, options);\n    }\n\n    var _this$props12 = this.props,\n        affixHeader = _this$props12.affixHeader,\n        affixHorizontalScrollbar = _this$props12.affixHorizontalScrollbar;\n\n    if (isNumberOrTrue(affixHeader) || isNumberOrTrue(affixHorizontalScrollbar)) {\n      this.scrollListener = on(window, 'scroll', this.handleWindowScroll);\n    }\n\n    (_this$props13 = this.props) === null || _this$props13 === void 0 ? void 0 : (_this$props13$bodyRef = _this$props13.bodyRef) === null || _this$props13$bodyRef === void 0 ? void 0 : _this$props13$bodyRef.call(_this$props13, this.wheelWrapperRef.current);\n  };\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    var _cacheChildrenSize = flatten(nextProps.children || []).length;\n    /**\n     * 单元格列的信息在初始化后会被缓存，在某些属性被更新以后，需要清除缓存。\n     */\n\n    if (_cacheChildrenSize !== this._cacheChildrenSize) {\n      this._cacheChildrenSize = _cacheChildrenSize;\n      this._cacheCells = null;\n    } else if (this.props.children !== nextProps.children || this.props.sortColumn !== nextProps.sortColumn || this.props.sortType !== nextProps.sortType) {\n      this._cacheCells = null;\n    }\n\n    return !eq(this.props, nextProps) || !isEqual(this.state, nextState);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var rowHeight = prevProps.rowHeight,\n        data = prevProps.data,\n        height = prevProps.height;\n\n    if (data !== this.props.data) {\n      var _this$props$onDataUpd, _this$props14;\n\n      this.calculateRowMaxHeight();\n      (_this$props$onDataUpd = (_this$props14 = this.props).onDataUpdated) === null || _this$props$onDataUpd === void 0 ? void 0 : _this$props$onDataUpd.call(_this$props14, this.props.data, this.scrollTo);\n      var maxHeight = this.props.data.length * (typeof rowHeight === 'function' ? rowHeight(null) : rowHeight); // 当开启允许更新滚动条，或者滚动条位置大于表格的最大高度，则初始滚动条位置\n\n      if (this.props.shouldUpdateScroll || Math.abs(this.scrollY) > maxHeight) {\n        this.scrollTo({\n          x: 0,\n          y: 0\n        });\n      }\n    } else {\n      this.updatePosition();\n    }\n\n    if ( // 当 Table 的 data 发生变化，需要重新计算高度\n    data !== this.props.data || // 当 Table 的 height 属性发生变化，需要重新计算 Table 高度\n    height !== this.props.height || // 当 Table 内容区的高度发生变化需要重新计算\n    prevState.contentHeight !== this.state.contentHeight || // 当 expandedRowKeys 发生变化，需要重新计算 Table 高度，如果重算会导致滚动条不显示。\n    prevState.expandedRowKeys !== this.state.expandedRowKeys || prevProps.expandedRowKeys !== this.props.expandedRowKeys) {\n      this.calculateTableContextHeight(prevProps);\n    }\n\n    this.calculateTableContentWidth(prevProps);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var _this$wheelListener, _this$touchStartListe, _this$touchMoveListen, _this$scrollListener;\n\n    this.wheelHandler = null;\n\n    if (this.tableRef.current) {\n      unbindElementResize(this.tableRef.current);\n    }\n\n    (_this$wheelListener = this.wheelListener) === null || _this$wheelListener === void 0 ? void 0 : _this$wheelListener.off();\n    (_this$touchStartListe = this.touchStartListener) === null || _this$touchStartListe === void 0 ? void 0 : _this$touchStartListe.off();\n    (_this$touchMoveListen = this.touchMoveListener) === null || _this$touchMoveListen === void 0 ? void 0 : _this$touchMoveListen.off();\n    (_this$scrollListener = this.scrollListener) === null || _this$scrollListener === void 0 ? void 0 : _this$scrollListener.off();\n  };\n\n  _proto.getExpandedRowKeys = function getExpandedRowKeys() {\n    var expandedRowKeys = this.props.expandedRowKeys;\n    return typeof expandedRowKeys === 'undefined' ? this.state.expandedRowKeys : expandedRowKeys;\n  };\n\n  _proto.getSortType = function getSortType() {\n    var sortType = this.props.sortType;\n    return typeof sortType === 'undefined' ? this.state.sortType : sortType;\n  };\n\n  _proto.getScrollCellGroups = function getScrollCellGroups() {\n    var _this$tableRef$curren;\n\n    return (_this$tableRef$curren = this.tableRef.current) === null || _this$tableRef$curren === void 0 ? void 0 : _this$tableRef$curren.querySelectorAll(\".\" + this.addPrefix('cell-group-scroll'));\n  };\n\n  _proto.getFixedLeftCellGroups = function getFixedLeftCellGroups() {\n    var _this$tableRef$curren2;\n\n    return (_this$tableRef$curren2 = this.tableRef.current) === null || _this$tableRef$curren2 === void 0 ? void 0 : _this$tableRef$curren2.querySelectorAll(\".\" + this.addPrefix('cell-group-fixed-left'));\n  };\n\n  _proto.getFixedRightCellGroups = function getFixedRightCellGroups() {\n    var _this$tableRef$curren3;\n\n    return (_this$tableRef$curren3 = this.tableRef.current) === null || _this$tableRef$curren3 === void 0 ? void 0 : _this$tableRef$curren3.querySelectorAll(\".\" + this.addPrefix('cell-group-fixed-right'));\n  };\n\n  _proto.isRTL = function isRTL() {\n    return this.props.rtl || _isRTL();\n  };\n\n  _proto.getRowHeight = function getRowHeight(rowData) {\n    if (rowData === void 0) {\n      rowData = {};\n    }\n\n    var rowHeight = this.props.rowHeight;\n    return typeof rowHeight === 'function' ? rowHeight(rowData) : rowHeight;\n  }\n  /**\n   * 获取表头高度\n   */\n  ;\n\n  _proto.getTableHeaderHeight = function getTableHeaderHeight() {\n    var _this$props15 = this.props,\n        headerHeight = _this$props15.headerHeight,\n        showHeader = _this$props15.showHeader;\n    return showHeader ? headerHeight : 0;\n  }\n  /**\n   * 获取 Table 需要渲染的高度\n   */\n  ;\n\n  _proto.getTableHeight = function getTableHeight() {\n    var contentHeight = this.state.contentHeight;\n    var _this$props16 = this.props,\n        minHeight = _this$props16.minHeight,\n        height = _this$props16.height,\n        autoHeight = _this$props16.autoHeight,\n        data = _this$props16.data;\n    var headerHeight = this.getTableHeaderHeight();\n\n    if (data.length === 0 && autoHeight) {\n      return height;\n    }\n\n    return autoHeight ? Math.max(headerHeight + contentHeight, minHeight) : height;\n  }\n  /**\n   * 获取 columns ReactElement 数组\n   * - 处理 children 中存在 <Column> 数组的情况\n   * - 过滤 children 中的空项\n   */\n  ;\n\n  _proto.getTableColumns = function getTableColumns(children) {\n    if (!Array.isArray(children)) {\n      if (isFragment(children)) {\n        return this.getTableColumns(children.props.children);\n      }\n\n      return children;\n    }\n\n    var flattenColumns = flatten(children).map(function (column) {\n      if ((column === null || column === void 0 ? void 0 : column.type) === ColumnGroup) {\n        var _column$props = column === null || column === void 0 ? void 0 : column.props,\n            header = _column$props.header,\n            childColumns = _column$props.children,\n            align = _column$props.align,\n            fixed = _column$props.fixed,\n            verticalAlign = _column$props.verticalAlign;\n\n        return childColumns.map(function (childColumn, index) {\n          // 把 ColumnGroup 设置的属性覆盖到 Column\n          var groupCellProps = _extends({}, childColumn === null || childColumn === void 0 ? void 0 : childColumn.props, {\n            align: align,\n            fixed: fixed,\n            verticalAlign: verticalAlign\n          });\n          /**\n           * 为分组中的第一列设置属性:\n           * groupCount: 分组子项个数\n           * groupHeader: 分组标题\n           * resizable: 设置为不可自定义列宽\n           */\n\n\n          if (index === 0) {\n            groupCellProps.groupCount = childColumns.length;\n            groupCellProps.groupHeader = header;\n            groupCellProps.resizable = false;\n          }\n\n          return /*#__PURE__*/React.cloneElement(childColumn, groupCellProps);\n        });\n      }\n\n      return column;\n    }); // 把 Columns 中的数组，展平为一维数组，计算 lastColumn 与 firstColumn。\n\n    return flatten(flattenColumns).filter(function (col) {\n      return col;\n    });\n  };\n\n  _proto.getCellDescriptor = function getCellDescriptor() {\n    var _this2 = this;\n\n    if (this._cacheCells) {\n      return this._cacheCells;\n    }\n\n    var hasCustomTreeCol = false;\n    var left = 0; // Cell left margin\n\n    var headerCells = []; // Table header cell\n\n    var bodyCells = []; // Table body cell\n\n    var children = this.props.children;\n\n    if (!children) {\n      this._cacheCells = {\n        headerCells: headerCells,\n        bodyCells: bodyCells,\n        hasCustomTreeCol: hasCustomTreeCol,\n        allColumnsWidth: left\n      };\n      return this._cacheCells;\n    }\n\n    var columns = this.getTableColumns(children);\n    var tableWidth = this.state.width;\n    var _this$props17 = this.props,\n        sortColumn = _this$props17.sortColumn,\n        rowHeight = _this$props17.rowHeight,\n        showHeader = _this$props17.showHeader;\n\n    var _getTotalByColumns = getTotalByColumns(columns),\n        totalFlexGrow = _getTotalByColumns.totalFlexGrow,\n        totalWidth = _getTotalByColumns.totalWidth;\n\n    var headerHeight = this.getTableHeaderHeight();\n    React.Children.forEach(columns, function (column, index) {\n      if ( /*#__PURE__*/React.isValidElement(column)) {\n        var columnChildren = column.props.children;\n        var _column$props2 = column.props,\n            width = _column$props2.width,\n            resizable = _column$props2.resizable,\n            flexGrow = _column$props2.flexGrow,\n            minWidth = _column$props2.minWidth,\n            onResize = _column$props2.onResize,\n            treeCol = _column$props2.treeCol;\n\n        if (treeCol) {\n          hasCustomTreeCol = true;\n        }\n\n        if (resizable && flexGrow) {\n          console.warn(\"Cannot set 'resizable' and 'flexGrow' together in <Column>, column index: \" + index);\n        }\n\n        if (columnChildren.length !== 2) {\n          throw new Error(\"Component <HeaderCell> and <Cell> is required, column index: \" + index + \" \");\n        }\n\n        var nextWidth = _this2.state[columnChildren[1].props.dataKey + \"_\" + index + \"_width\"] || width || 0;\n\n        if (tableWidth && flexGrow && totalFlexGrow) {\n          nextWidth = Math.max((tableWidth - totalWidth) / totalFlexGrow * flexGrow, minWidth || 60);\n        }\n\n        var cellProps = _extends({}, omit(column.props, ['children']), {\n          'aria-colindex': index + 1,\n          left: left,\n          headerHeight: headerHeight,\n          key: index,\n          width: nextWidth,\n          height: rowHeight,\n          firstColumn: index === 0,\n          lastColumn: index === columns.length - 1\n        });\n\n        if (showHeader && headerHeight) {\n          var headerCellProps = {\n            // index 用于拖拽列宽时候（Resizable column），定义的序号\n            index: index,\n            dataKey: columnChildren[1].props.dataKey,\n            isHeaderCell: true,\n            sortable: column.props.sortable,\n            onSortColumn: _this2.handleSortColumn,\n            sortType: _this2.getSortType(),\n            sortColumn: sortColumn,\n            flexGrow: flexGrow\n          };\n\n          if (resizable) {\n            merge(headerCellProps, {\n              onResize: onResize,\n              onColumnResizeEnd: _this2.handleColumnResizeEnd,\n              onColumnResizeStart: _this2.handleColumnResizeStart,\n              onColumnResizeMove: _this2.handleColumnResizeMove\n            });\n          }\n\n          headerCells.push( /*#__PURE__*/React.cloneElement(columnChildren[0], _extends({}, cellProps, headerCellProps)));\n        }\n\n        bodyCells.push( /*#__PURE__*/React.cloneElement(columnChildren[1], cellProps));\n        left += nextWidth;\n      }\n    });\n    return this._cacheCells = {\n      headerCells: headerCells,\n      bodyCells: bodyCells,\n      allColumnsWidth: left,\n      hasCustomTreeCol: hasCustomTreeCol\n    };\n  };\n\n  _proto.initPosition = function initPosition() {\n    var _this3 = this;\n\n    if (this.isRTL()) {\n      setTimeout(function () {\n        var _this3$scrollbarXRef, _this3$scrollbarXRef$, _this3$scrollbarXRef$2;\n\n        var _this3$state = _this3.state,\n            contentWidth = _this3$state.contentWidth,\n            width = _this3$state.width;\n        _this3.scrollX = width - contentWidth - SCROLLBAR_WIDTH;\n\n        _this3.updatePosition();\n\n        (_this3$scrollbarXRef = _this3.scrollbarXRef) === null || _this3$scrollbarXRef === void 0 ? void 0 : (_this3$scrollbarXRef$ = _this3$scrollbarXRef.current) === null || _this3$scrollbarXRef$ === void 0 ? void 0 : (_this3$scrollbarXRef$2 = _this3$scrollbarXRef$.resetScrollBarPosition) === null || _this3$scrollbarXRef$2 === void 0 ? void 0 : _this3$scrollbarXRef$2.call(_this3$scrollbarXRef$, -_this3.scrollX);\n      }, 0);\n    }\n  };\n\n  _proto.updatePosition = function updatePosition() {\n    var _this$tableHeaderRef;\n\n    /**\n     * 当存在锁定列情况处理\n     */\n    if (this.state.shouldFixedColumn) {\n      this.updatePositionByFixedCell();\n    } else {\n      var _this$wheelWrapperRef, _this$headerWrapperRe2, _this$affixHeaderWrap, _affixHeaderElement$h;\n\n      var wheelStyle = {};\n      var headerStyle = {};\n      this.translateDOMPositionXY(wheelStyle, this.scrollX, this.scrollY);\n      this.translateDOMPositionXY(headerStyle, this.scrollX, 0);\n      var wheelElement = (_this$wheelWrapperRef = this.wheelWrapperRef) === null || _this$wheelWrapperRef === void 0 ? void 0 : _this$wheelWrapperRef.current;\n      var headerElement = (_this$headerWrapperRe2 = this.headerWrapperRef) === null || _this$headerWrapperRe2 === void 0 ? void 0 : _this$headerWrapperRe2.current;\n      var affixHeaderElement = (_this$affixHeaderWrap = this.affixHeaderWrapperRef) === null || _this$affixHeaderWrap === void 0 ? void 0 : _this$affixHeaderWrap.current;\n      wheelElement && addStyle(wheelElement, wheelStyle);\n      headerElement && addStyle(headerElement, headerStyle);\n\n      if (affixHeaderElement !== null && affixHeaderElement !== void 0 && (_affixHeaderElement$h = affixHeaderElement.hasChildNodes) !== null && _affixHeaderElement$h !== void 0 && _affixHeaderElement$h.call(affixHeaderElement)) {\n        addStyle(affixHeaderElement.firstChild, headerStyle);\n      }\n    }\n\n    if ((_this$tableHeaderRef = this.tableHeaderRef) !== null && _this$tableHeaderRef !== void 0 && _this$tableHeaderRef.current) {\n      toggleClass(this.tableHeaderRef.current, this.addPrefix('cell-group-shadow'), this.scrollY < 0);\n    }\n  };\n\n  _proto.updatePositionByFixedCell = function updatePositionByFixedCell() {\n    var _this$wheelWrapperRef2;\n\n    var wheelGroupStyle = {};\n    var wheelStyle = {};\n    var scrollGroups = this.getScrollCellGroups();\n    var fixedLeftGroups = this.getFixedLeftCellGroups();\n    var fixedRightGroups = this.getFixedRightCellGroups();\n    var _this$state4 = this.state,\n        contentWidth = _this$state4.contentWidth,\n        width = _this$state4.width;\n    this.translateDOMPositionXY(wheelGroupStyle, this.scrollX, 0);\n    this.translateDOMPositionXY(wheelStyle, 0, this.scrollY);\n    var scrollArrayGroups = Array.from(scrollGroups);\n\n    for (var i = 0; i < scrollArrayGroups.length; i++) {\n      var group = scrollArrayGroups[i];\n      addStyle(group, wheelGroupStyle);\n    }\n\n    if ((_this$wheelWrapperRef2 = this.wheelWrapperRef) !== null && _this$wheelWrapperRef2 !== void 0 && _this$wheelWrapperRef2.current) {\n      addStyle(this.wheelWrapperRef.current, wheelStyle);\n    }\n\n    var leftShadowClassName = this.addPrefix('cell-group-left-shadow');\n    var rightShadowClassName = this.addPrefix('cell-group-right-shadow');\n    var showLeftShadow = this.scrollX < 0;\n    var showRightShadow = width - contentWidth - SCROLLBAR_WIDTH !== this.scrollX;\n    toggleClass(fixedLeftGroups, leftShadowClassName, showLeftShadow);\n    toggleClass(fixedRightGroups, rightShadowClassName, showRightShadow);\n  };\n\n  _proto.shouldRenderExpandedRow = function shouldRenderExpandedRow(rowData) {\n    var _this$props18 = this.props,\n        rowKey = _this$props18.rowKey,\n        renderRowExpanded = _this$props18.renderRowExpanded,\n        isTree = _this$props18.isTree;\n    var expandedRowKeys = this.getExpandedRowKeys() || [];\n    return isFunction(renderRowExpanded) && !isTree && expandedRowKeys.some(function (key) {\n      return key === rowData[rowKey];\n    });\n  };\n\n  _proto.calculateRowMaxHeight = function calculateRowMaxHeight() {\n    var wordWrap = this.props.wordWrap;\n\n    if (wordWrap) {\n      var tableRowsMaxHeight = [];\n      var tableRows = Object.values(this.tableRows);\n\n      for (var i = 0; i < tableRows.length; i++) {\n        var _tableRows$i = tableRows[i],\n            row = _tableRows$i[0];\n\n        if (row) {\n          var cells = row.querySelectorAll(\".\" + this.addPrefix('cell-wrap')) || [];\n          var cellArray = Array.from(cells);\n          var maxHeight = 0;\n\n          for (var j = 0; j < cellArray.length; j++) {\n            var cell = cellArray[j];\n            var h = getHeight(cell);\n            maxHeight = Math.max(maxHeight, h);\n          }\n\n          tableRowsMaxHeight.push(maxHeight);\n        }\n      }\n\n      this.setState({\n        tableRowsMaxHeight: tableRowsMaxHeight\n      });\n    }\n  };\n\n  _proto.calculateTableContentWidth = function calculateTableContentWidth(prevProps) {\n    var _this$tableRef3;\n\n    var table = (_this$tableRef3 = this.tableRef) === null || _this$tableRef3 === void 0 ? void 0 : _this$tableRef3.current;\n    var row = table.querySelector(\".\" + this.addPrefix('row') + \":not(.virtualized)\");\n    var contentWidth = row ? getWidth(row) : 0;\n    this.setState({\n      contentWidth: contentWidth\n    }); // 这里 -SCROLLBAR_WIDTH 是为了让滚动条不挡住内容部分\n\n    this.minScrollX = -(contentWidth - this.state.width) - SCROLLBAR_WIDTH;\n    /**\n     * 1.判断 Table 列数是否发生变化\n     * 2.判断 Table 内容区域是否宽度有变化\n     *\n     * 满足 1 和 2 则更新横向滚动条位置\n     */\n\n    if (flatten(this.props.children).length !== flatten(prevProps.children).length && this.state.contentWidth !== contentWidth) {\n      this.scrollLeft(0);\n    }\n  };\n\n  _proto.calculateTableContextHeight = function calculateTableContextHeight(prevProps) {\n    var table = this.tableRef.current;\n    var rows = table.querySelectorAll(\".\" + this.addPrefix('row')) || [];\n    var _this$props19 = this.props,\n        height = _this$props19.height,\n        autoHeight = _this$props19.autoHeight,\n        rowHeight = _this$props19.rowHeight,\n        affixHeader = _this$props19.affixHeader;\n    var headerHeight = this.getTableHeaderHeight();\n    var contentHeight = rows.length ? Array.from(rows).map(function (row) {\n      return getHeight(row) || rowHeight;\n    }).reduce(function (x, y) {\n      return x + y;\n    }) : 0; // 当设置 affixHeader 属性后要减掉两个 header 的高度\n\n    var nextContentHeight = contentHeight - (affixHeader ? headerHeight * 2 : headerHeight);\n\n    if (nextContentHeight !== this.state.contentHeight) {\n      this.setState({\n        contentHeight: nextContentHeight\n      });\n    }\n\n    if (prevProps && ( // 当 data 更新，或者表格高度更新，则更新滚动条\n    prevProps.height !== height || prevProps.data !== this.props.data) && this.scrollY !== 0) {\n      this.scrollTop(Math.abs(this.scrollY));\n      this.updatePosition();\n    }\n\n    if (!autoHeight) {\n      // 这里 -SCROLLBAR_WIDTH 是为了让滚动条不挡住内容部分\n      this.minScrollY = -(contentHeight - height) - SCROLLBAR_WIDTH;\n    } // 如果内容区域的高度小于表格的高度，则重置 Y 坐标滚动条\n\n\n    if (contentHeight < height) {\n      this.scrollTop(0);\n    } // 如果 scrollTop 的值大于可以滚动的范围 ，则重置 Y 坐标滚动条\n    // 当 Table 为 virtualized 时， wheel 事件触发每次都会进入该逻辑， 避免在滚动到底部后滚动条重置, +SCROLLBAR_WIDTH\n\n\n    if (Math.abs(this.scrollY) + height - headerHeight > nextContentHeight + SCROLLBAR_WIDTH) {\n      this.scrollTop(this.scrollY);\n    }\n  };\n\n  _proto.getControlledScrollTopValue = function getControlledScrollTopValue(value) {\n    if (this.props.autoHeight) {\n      return [0, 0];\n    }\n\n    var contentHeight = this.state.contentHeight;\n    var headerHeight = this.getTableHeaderHeight();\n    var height = this.getTableHeight(); // 滚动值的最大范围判断\n\n    value = Math.min(value, Math.max(0, contentHeight - (height - headerHeight))); // value 值是表格理论滚动位置的一个值，通过 value 计算出 scrollY 坐标值与滚动条位置的值\n\n    return [-value, value / contentHeight * (height - headerHeight)];\n  };\n\n  _proto.getControlledScrollLeftValue = function getControlledScrollLeftValue(value) {\n    var _this$state5 = this.state,\n        contentWidth = _this$state5.contentWidth,\n        width = _this$state5.width; // 滚动值的最大范围判断\n\n    value = Math.min(value, Math.max(0, contentWidth - width));\n    return [-value, value / contentWidth * width];\n  }\n  /**\n   * public method\n   */\n  ;\n\n  _proto.renderRowData = function renderRowData(bodyCells, rowData, props, shouldRenderExpandedRow) {\n    var _this$props20 = this.props,\n        renderTreeToggle = _this$props20.renderTreeToggle,\n        rowKey = _this$props20.rowKey,\n        wordWrap = _this$props20.wordWrap,\n        isTree = _this$props20.isTree;\n    var hasChildren = isTree && rowData.children && Array.isArray(rowData.children);\n    var nextRowKey = typeof rowData[rowKey] !== 'undefined' ? rowData[rowKey] : props.key;\n\n    var rowProps = _extends({}, props, {\n      key: nextRowKey,\n      'aria-rowindex': props.key + 2,\n      rowRef: this.bindTableRowsRef(props.key, rowData),\n      onClick: this.bindRowClick(rowData),\n      onContextMenu: this.bindRowContextMenu(rowData)\n    });\n\n    var expandedRowKeys = this.getExpandedRowKeys() || [];\n    var expanded = expandedRowKeys.some(function (key) {\n      return key === rowData[rowKey];\n    });\n    var cells = [];\n\n    for (var i = 0; i < bodyCells.length; i++) {\n      var cell = bodyCells[i];\n      cells.push( /*#__PURE__*/React.cloneElement(cell, {\n        hasChildren: hasChildren,\n        rowData: rowData,\n        wordWrap: wordWrap,\n        renderTreeToggle: renderTreeToggle,\n        height: props.height,\n        rowIndex: props.key,\n        depth: props.depth,\n        onTreeToggle: this.handleTreeToggle,\n        rowKey: nextRowKey,\n        expanded: expanded\n      }));\n    }\n\n    return this.renderRow(rowProps, cells, shouldRenderExpandedRow, rowData);\n  };\n\n  _proto.renderRow = function renderRow(props, cells, shouldRenderExpandedRow, rowData) {\n    var rowClassName = this.props.rowClassName;\n    var _this$state6 = this.state,\n        shouldFixedColumn = _this$state6.shouldFixedColumn,\n        width = _this$state6.width,\n        contentWidth = _this$state6.contentWidth;\n\n    var depth = props.depth,\n        restRowProps = _objectWithoutPropertiesLoose(props, [\"depth\"]);\n\n    if (typeof rowClassName === 'function') {\n      restRowProps.className = rowClassName(rowData);\n    } else {\n      restRowProps.className = rowClassName;\n    }\n\n    var rowStyles = {};\n    var rowRight = 0;\n\n    if (this.isRTL() && contentWidth > width) {\n      rowRight = width - contentWidth;\n      rowStyles.right = rowRight;\n    } // IF there are fixed columns, add a fixed group\n\n\n    if (shouldFixedColumn && contentWidth > width) {\n      var fixedLeftCells = [];\n      var fixedRightCells = [];\n      var scrollCells = [];\n      var fixedLeftCellGroupWidth = 0;\n      var fixedRightCellGroupWidth = 0;\n\n      for (var i = 0; i < cells.length; i++) {\n        var cell = cells[i];\n        var _cell$props = cell.props,\n            fixed = _cell$props.fixed,\n            _width2 = _cell$props.width;\n        var isFixedStart = fixed === 'left' || fixed === true;\n        var isFixedEnd = fixed === 'right';\n\n        if (this.isRTL()) {\n          isFixedStart = fixed === 'right';\n          isFixedEnd = fixed === 'left' || fixed === true;\n        }\n\n        if (isFixedStart) {\n          fixedLeftCells.push(cell);\n          fixedLeftCellGroupWidth += _width2;\n        } else if (isFixedEnd) {\n          fixedRightCells.push(cell);\n          fixedRightCellGroupWidth += _width2;\n        } else {\n          scrollCells.push(cell);\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(Row, _extends({}, restRowProps, {\n        \"data-depth\": depth,\n        style: rowStyles\n      }), fixedLeftCellGroupWidth ? /*#__PURE__*/React.createElement(CellGroup, {\n        fixed: \"left\",\n        height: props.isHeaderRow ? props.headerHeight : props.height,\n        width: fixedLeftCellGroupWidth,\n        style: this.isRTL() ? {\n          right: width - fixedLeftCellGroupWidth - rowRight\n        } : null\n      }, mergeCells(resetLeftForCells(fixedLeftCells))) : null, /*#__PURE__*/React.createElement(CellGroup, null, mergeCells(scrollCells)), fixedRightCellGroupWidth ? /*#__PURE__*/React.createElement(CellGroup, {\n        fixed: \"right\",\n        style: this.isRTL() ? {\n          right: 0 - rowRight\n        } : {\n          left: width - fixedRightCellGroupWidth - SCROLLBAR_WIDTH\n        },\n        height: props.isHeaderRow ? props.headerHeight : props.height,\n        width: fixedRightCellGroupWidth + SCROLLBAR_WIDTH\n      }, mergeCells(resetLeftForCells(fixedRightCells, SCROLLBAR_WIDTH))) : null, shouldRenderExpandedRow && this.renderRowExpanded(rowData));\n    }\n\n    return /*#__PURE__*/React.createElement(Row, _extends({}, restRowProps, {\n      \"data-depth\": depth,\n      style: rowStyles\n    }), /*#__PURE__*/React.createElement(CellGroup, null, mergeCells(cells)), shouldRenderExpandedRow && this.renderRowExpanded(rowData));\n  };\n\n  _proto.renderRowExpanded = function renderRowExpanded(rowData) {\n    var _this$props21 = this.props,\n        renderRowExpanded = _this$props21.renderRowExpanded,\n        rowExpandedHeight = _this$props21.rowExpandedHeight;\n    var styles = {\n      height: rowExpandedHeight\n    };\n\n    if (typeof renderRowExpanded === 'function') {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: this.addPrefix('row-expanded'),\n        style: styles\n      }, renderRowExpanded(rowData));\n    }\n\n    return null;\n  };\n\n  _proto.renderMouseArea = function renderMouseArea() {\n    var headerHeight = this.getTableHeaderHeight();\n    var styles = {\n      height: this.getTableHeight()\n    };\n    var spanStyles = {\n      height: headerHeight - 1\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.mouseAreaRef,\n      className: this.addPrefix('mouse-area'),\n      style: styles\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: spanStyles\n    }));\n  };\n\n  _proto.renderTableHeader = function renderTableHeader(headerCells, rowWidth) {\n    var affixHeader = this.props.affixHeader;\n    var tableWidth = this.state.width;\n    var top = typeof affixHeader === 'number' ? affixHeader : 0;\n    var headerHeight = this.getTableHeaderHeight();\n    var rowProps = {\n      'aria-rowindex': 1,\n      rowRef: this.tableHeaderRef,\n      width: rowWidth,\n      height: this.getRowHeight(),\n      headerHeight: headerHeight,\n      isHeaderRow: true,\n      top: 0\n    };\n    var fixedStyle = {\n      position: 'fixed',\n      overflow: 'hidden',\n      height: this.getTableHeaderHeight(),\n      width: tableWidth,\n      top: top\n    }; // Affix header\n\n    var header = /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(this.addPrefix('affix-header')),\n      style: fixedStyle,\n      ref: this.affixHeaderWrapperRef\n    }, this.renderRow(rowProps, headerCells));\n    return /*#__PURE__*/React.createElement(React.Fragment, null, (affixHeader === 0 || affixHeader) && header, /*#__PURE__*/React.createElement(\"div\", {\n      role: \"rowgroup\",\n      className: this.addPrefix('header-row-wrapper'),\n      ref: this.headerWrapperRef\n    }, this.renderRow(rowProps, headerCells)));\n  };\n\n  _proto.renderTableBody = function renderTableBody(bodyCells, rowWidth) {\n    var _this$props22 = this.props,\n        rowExpandedHeight = _this$props22.rowExpandedHeight,\n        renderRowExpanded = _this$props22.renderRowExpanded,\n        isTree = _this$props22.isTree,\n        rowKey = _this$props22.rowKey,\n        wordWrap = _this$props22.wordWrap,\n        virtualized = _this$props22.virtualized,\n        rowHeight = _this$props22.rowHeight;\n    var headerHeight = this.getTableHeaderHeight();\n    var _this$state7 = this.state,\n        tableRowsMaxHeight = _this$state7.tableRowsMaxHeight,\n        isScrolling = _this$state7.isScrolling,\n        data = _this$state7.data;\n    var height = this.getTableHeight();\n    var bodyHeight = height - headerHeight;\n    var bodyStyles = {\n      top: headerHeight,\n      height: bodyHeight\n    };\n    var contentHeight = 0;\n    var topHideHeight = 0;\n    var bottomHideHeight = 0;\n    this._visibleRows = [];\n\n    if (data) {\n      var top = 0; // Row position\n\n      var minTop = Math.abs(this.scrollY);\n      var maxTop = minTop + height + rowExpandedHeight;\n      var isCustomRowHeight = typeof rowHeight === 'function';\n      var isUncertainHeight = !!(renderRowExpanded || isCustomRowHeight || isTree);\n      /**\n      如果开启了 virtualized  同时 Table 中的的行高是可变的，\n      则需要循环遍历 data, 获取每一行的高度。\n      */\n\n      if (isUncertainHeight && virtualized || !virtualized) {\n        for (var index = 0; index < data.length; index++) {\n          var rowData = data[index];\n          var maxHeight = tableRowsMaxHeight[index];\n          var shouldRenderExpandedRow = this.shouldRenderExpandedRow(rowData);\n          var nextRowHeight = 0;\n          var depth = 0;\n\n          if (typeof rowHeight === 'function') {\n            nextRowHeight = rowHeight(rowData);\n          } else {\n            nextRowHeight = maxHeight ? Math.max(maxHeight + CELL_PADDING_HEIGHT, rowHeight) : rowHeight;\n\n            if (shouldRenderExpandedRow) {\n              nextRowHeight += rowExpandedHeight;\n            }\n          }\n\n          if (isTree) {\n            var parents = findAllParents(rowData, rowKey);\n            var expandedRowKeys = this.getExpandedRowKeys();\n            depth = parents.length; //  如果是 Tree Table,  判断当前的行是否展开/折叠，如果是折叠则不显示该行。\n\n            if (!shouldShowRowByExpanded(expandedRowKeys, parents)) {\n              continue;\n            }\n          }\n\n          contentHeight += nextRowHeight;\n          var rowProps = {\n            key: index,\n            top: top,\n            width: rowWidth,\n            depth: depth,\n            height: nextRowHeight\n          };\n          top += nextRowHeight;\n\n          if (virtualized && !wordWrap) {\n            if (top + nextRowHeight < minTop) {\n              topHideHeight += nextRowHeight;\n              continue;\n            } else if (top > maxTop) {\n              bottomHideHeight += nextRowHeight;\n              continue;\n            }\n          }\n\n          this._visibleRows.push(this.renderRowData(bodyCells, rowData, rowProps, shouldRenderExpandedRow));\n        }\n      } else {\n        /**\n        如果 Table 的行高是固定的，则直接通过行高与行数进行计算，\n        减少遍历所有 data 带来的性能消耗\n        */\n        var _nextRowHeight = this.getRowHeight();\n\n        var startIndex = Math.max(Math.floor(minTop / _nextRowHeight), 0);\n        var endIndex = Math.min(startIndex + Math.ceil(bodyHeight / _nextRowHeight), data.length);\n        contentHeight = data.length * _nextRowHeight;\n        topHideHeight = startIndex * _nextRowHeight;\n        bottomHideHeight = (data.length - endIndex) * _nextRowHeight;\n\n        for (var _index = startIndex; _index < endIndex; _index++) {\n          var _rowData = data[_index];\n          var _rowProps = {\n            key: _index,\n            top: _index * _nextRowHeight,\n            width: rowWidth,\n            height: _nextRowHeight\n          };\n\n          this._visibleRows.push(this.renderRowData(bodyCells, _rowData, _rowProps, false));\n        }\n      }\n    }\n\n    var wheelStyles = {\n      position: 'absolute',\n      height: contentHeight,\n      minHeight: height,\n      pointerEvents: isScrolling ? 'none' : undefined\n    };\n    var topRowStyles = {\n      height: topHideHeight\n    };\n    var bottomRowStyles = {\n      height: bottomHideHeight\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.tableBodyRef,\n      role: \"rowgroup\",\n      className: this.addPrefix('body-row-wrapper'),\n      style: bodyStyles,\n      onScroll: this.handleBodyScroll\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: wheelStyles,\n      className: this.addPrefix('body-wheel-area'),\n      ref: this.wheelWrapperRef\n    }, topHideHeight ? /*#__PURE__*/React.createElement(Row, {\n      style: topRowStyles,\n      className: \"virtualized\"\n    }) : null, this._visibleRows, bottomHideHeight ? /*#__PURE__*/React.createElement(Row, {\n      style: bottomRowStyles,\n      className: \"virtualized\"\n    }) : null), this.renderInfo(), this.renderScrollbar(), this.renderLoading());\n  };\n\n  _proto.renderInfo = function renderInfo() {\n    var _this$props23 = this.props,\n        locale = _this$props23.locale,\n        renderEmpty = _this$props23.renderEmpty,\n        loading = _this$props23.loading;\n\n    if (this._visibleRows.length || loading) {\n      return null;\n    }\n\n    var emptyMessage = /*#__PURE__*/React.createElement(\"div\", {\n      className: this.addPrefix('body-info')\n    }, locale.emptyMessage);\n    return renderEmpty ? renderEmpty(emptyMessage) : emptyMessage;\n  };\n\n  _proto.renderScrollbar = function renderScrollbar() {\n    var _this$props24 = this.props,\n        disabledScroll = _this$props24.disabledScroll,\n        affixHorizontalScrollbar = _this$props24.affixHorizontalScrollbar,\n        id = _this$props24.id;\n    var _this$state8 = this.state,\n        contentWidth = _this$state8.contentWidth,\n        contentHeight = _this$state8.contentHeight,\n        width = _this$state8.width,\n        fixedHorizontalScrollbar = _this$state8.fixedHorizontalScrollbar;\n    var bottom = typeof affixHorizontalScrollbar === 'number' ? affixHorizontalScrollbar : 0;\n    var headerHeight = this.getTableHeaderHeight();\n    var height = this.getTableHeight();\n\n    if (disabledScroll) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Scrollbar, {\n      tableId: id,\n      className: classNames({\n        fixed: fixedHorizontalScrollbar\n      }),\n      style: {\n        width: width,\n        bottom: fixedHorizontalScrollbar ? bottom : undefined\n      },\n      length: this.state.width,\n      onScroll: this.handleScrollX,\n      scrollLength: contentWidth,\n      ref: this.scrollbarXRef\n    }), /*#__PURE__*/React.createElement(Scrollbar, {\n      vertical: true,\n      tableId: id,\n      length: height - headerHeight,\n      scrollLength: contentHeight,\n      onScroll: this.handleScrollY,\n      ref: this.scrollbarYRef\n    }));\n  }\n  /**\n   *  show loading\n   */\n  ;\n\n  _proto.renderLoading = function renderLoading() {\n    var _this$props25 = this.props,\n        locale = _this$props25.locale,\n        loading = _this$props25.loading,\n        loadAnimation = _this$props25.loadAnimation,\n        renderLoading = _this$props25.renderLoading;\n\n    if (!loadAnimation && !loading) {\n      return null;\n    }\n\n    var loadingElement = /*#__PURE__*/React.createElement(\"div\", {\n      className: this.addPrefix('loader-wrapper')\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: this.addPrefix('loader')\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: this.addPrefix('loader-icon')\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: this.addPrefix('loader-text')\n    }, locale.loading)));\n    return renderLoading ? renderLoading(loadingElement) : loadingElement;\n  };\n\n  _proto.render = function render() {\n    var _classNames;\n\n    var _this$props26 = this.props,\n        children = _this$props26.children,\n        className = _this$props26.className,\n        data = _this$props26.data,\n        _this$props26$width = _this$props26.width,\n        width = _this$props26$width === void 0 ? 0 : _this$props26$width,\n        style = _this$props26.style,\n        isTree = _this$props26.isTree,\n        hover = _this$props26.hover,\n        bordered = _this$props26.bordered,\n        cellBordered = _this$props26.cellBordered,\n        wordWrap = _this$props26.wordWrap,\n        classPrefix = _this$props26.classPrefix,\n        loading = _this$props26.loading,\n        showHeader = _this$props26.showHeader,\n        rest = _objectWithoutPropertiesLoose(_this$props26, [\"children\", \"className\", \"data\", \"width\", \"style\", \"isTree\", \"hover\", \"bordered\", \"cellBordered\", \"wordWrap\", \"classPrefix\", \"loading\", \"showHeader\"]);\n\n    var isColumnResizing = this.state.isColumnResizing;\n\n    var _this$getCellDescript = this.getCellDescriptor(),\n        headerCells = _this$getCellDescript.headerCells,\n        bodyCells = _this$getCellDescript.bodyCells,\n        allColumnsWidth = _this$getCellDescript.allColumnsWidth,\n        hasCustomTreeCol = _this$getCellDescript.hasCustomTreeCol;\n\n    var rowWidth = allColumnsWidth > width ? allColumnsWidth : width;\n    var clesses = classNames(classPrefix, className, (_classNames = {}, _classNames[this.addPrefix('word-wrap')] = wordWrap, _classNames[this.addPrefix('treetable')] = isTree, _classNames[this.addPrefix('bordered')] = bordered, _classNames[this.addPrefix('cell-bordered')] = cellBordered, _classNames[this.addPrefix('column-resizing')] = isColumnResizing, _classNames[this.addPrefix('hover')] = hover, _classNames[this.addPrefix('loading')] = loading, _classNames));\n\n    var styles = _extends({\n      width: width || 'auto',\n      height: this.getTableHeight()\n    }, style);\n\n    var unhandled = getUnhandledProps(propTypes, rest);\n    return /*#__PURE__*/React.createElement(TableContext.Provider, {\n      value: {\n        translateDOMPositionXY: this.translateDOMPositionXY,\n        rtl: this.isRTL(),\n        isTree: isTree,\n        hasCustomTreeCol: hasCustomTreeCol\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", _extends({\n      role: isTree ? 'treegrid' : 'grid' // The aria-rowcount is specified on the element with the table.\n      // Its value is an integer equal to the total number of rows available, including header rows.\n      ,\n      \"aria-rowcount\": data.length + 1,\n      \"aria-colcount\": this._cacheChildrenSize\n    }, unhandled, {\n      className: clesses,\n      style: styles,\n      ref: this.tableRef\n    }), showHeader && this.renderTableHeader(headerCells, rowWidth), children && this.renderTableBody(bodyCells, rowWidth), showHeader && this.renderMouseArea()));\n  };\n\n  return Table;\n}(React.Component);\n\nTable.propTypes = propTypes;\nTable.defaultProps = {\n  classPrefix: defaultClassPrefix('table'),\n  data: [],\n  defaultSortType: SORT_TYPE.DESC,\n  height: 200,\n  rowHeight: 46,\n  headerHeight: 40,\n  minHeight: 0,\n  rowExpandedHeight: 100,\n  hover: true,\n  showHeader: true,\n  rowKey: 'key',\n  translate3d: true,\n  shouldUpdateScroll: true,\n  locale: {\n    emptyMessage: 'No data found',\n    loading: 'Loading...'\n  }\n};\nexport default Table;"],"mappings":"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"},"metadata":{},"sourceType":"module"}