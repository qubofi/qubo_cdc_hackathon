{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _get from \"lodash/get\";\nimport * as React from 'react';\nimport { setDisplayName, wrapDisplayName } from '../utils';\nimport format from 'date-fns/format';\nimport defaultLocale from './locales/default';\nimport extendReactStatics from '../utils/extendReactStatics';\nimport { IntlGlobalContext } from './IntlProvider';\n\nvar mergeObject = function mergeObject(list) {\n  return list.reduce(function (a, b) {\n    a = _extends({}, a, {}, b);\n    return a;\n  }, {});\n};\n\nfunction withLocale(combineKeys) {\n  if (combineKeys === void 0) {\n    combineKeys = [];\n  }\n\n  return function (BaseComponent) {\n    var WithLocale = React.forwardRef(function (props, ref) {\n      return React.createElement(IntlGlobalContext.Consumer, null, function (options) {\n        var locale = mergeObject(combineKeys.map(function (key) {\n          return _get(options || defaultLocale, \"\" + key);\n        }));\n\n        if (options && typeof options.rtl !== undefined) {\n          locale.rtl = options.rtl;\n        } else if (typeof window !== 'undefined' && (document.body.getAttribute('dir') || document.dir) === 'rtl') {\n          locale.rtl = true;\n        }\n\n        locale.formatDate = (options === null || options === void 0 ? void 0 : options.formatDate) || format;\n        return React.createElement(BaseComponent, _extends({\n          ref: ref,\n          locale: locale\n        }, props));\n      });\n    });\n    WithLocale.displayName = BaseComponent.displayName;\n    extendReactStatics(WithLocale, BaseComponent, ['defaultProps']);\n\n    if (process.env.RUN_ENV === 'test') {\n      return setDisplayName(wrapDisplayName(BaseComponent, '__test__'))(WithLocale);\n    }\n\n    return setDisplayName(wrapDisplayName(BaseComponent, 'withLocale'))(WithLocale);\n  };\n}\n\nexport default withLocale;","map":{"version":3,"names":["_extends","_get","React","setDisplayName","wrapDisplayName","format","defaultLocale","extendReactStatics","IntlGlobalContext","mergeObject","list","reduce","a","b","withLocale","combineKeys","BaseComponent","WithLocale","forwardRef","props","ref","createElement","Consumer","options","locale","map","key","rtl","undefined","window","document","body","getAttribute","dir","formatDate","displayName","process","env","RUN_ENV"],"sources":["/Users/lixupeng/Local-Work/frontend/node_modules/rsuite/es/IntlProvider/withLocale.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _get from \"lodash/get\";\nimport * as React from 'react';\nimport { setDisplayName, wrapDisplayName } from '../utils';\nimport format from 'date-fns/format';\nimport defaultLocale from './locales/default';\nimport extendReactStatics from '../utils/extendReactStatics';\nimport { IntlGlobalContext } from './IntlProvider';\n\nvar mergeObject = function mergeObject(list) {\n  return list.reduce(function (a, b) {\n    a = _extends({}, a, {}, b);\n    return a;\n  }, {});\n};\n\nfunction withLocale(combineKeys) {\n  if (combineKeys === void 0) {\n    combineKeys = [];\n  }\n\n  return function (BaseComponent) {\n    var WithLocale = React.forwardRef(function (props, ref) {\n      return React.createElement(IntlGlobalContext.Consumer, null, function (options) {\n        var locale = mergeObject(combineKeys.map(function (key) {\n          return _get(options || defaultLocale, \"\" + key);\n        }));\n\n        if (options && typeof options.rtl !== undefined) {\n          locale.rtl = options.rtl;\n        } else if (typeof window !== 'undefined' && (document.body.getAttribute('dir') || document.dir) === 'rtl') {\n          locale.rtl = true;\n        }\n\n        locale.formatDate = (options === null || options === void 0 ? void 0 : options.formatDate) || format;\n        return React.createElement(BaseComponent, _extends({\n          ref: ref,\n          locale: locale\n        }, props));\n      });\n    });\n    WithLocale.displayName = BaseComponent.displayName;\n    extendReactStatics(WithLocale, BaseComponent, ['defaultProps']);\n\n    if (process.env.RUN_ENV === 'test') {\n      return setDisplayName(wrapDisplayName(BaseComponent, '__test__'))(WithLocale);\n    }\n\n    return setDisplayName(wrapDisplayName(BaseComponent, 'withLocale'))(WithLocale);\n  };\n}\n\nexport default withLocale;"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,oCAArB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,cAAT,EAAyBC,eAAzB,QAAgD,UAAhD;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,aAAP,MAA0B,mBAA1B;AACA,OAAOC,kBAAP,MAA+B,6BAA/B;AACA,SAASC,iBAAT,QAAkC,gBAAlC;;AAEA,IAAIC,WAAW,GAAG,SAASA,WAAT,CAAqBC,IAArB,EAA2B;EAC3C,OAAOA,IAAI,CAACC,MAAL,CAAY,UAAUC,CAAV,EAAaC,CAAb,EAAgB;IACjCD,CAAC,GAAGZ,QAAQ,CAAC,EAAD,EAAKY,CAAL,EAAQ,EAAR,EAAYC,CAAZ,CAAZ;IACA,OAAOD,CAAP;EACD,CAHM,EAGJ,EAHI,CAAP;AAID,CALD;;AAOA,SAASE,UAAT,CAAoBC,WAApB,EAAiC;EAC/B,IAAIA,WAAW,KAAK,KAAK,CAAzB,EAA4B;IAC1BA,WAAW,GAAG,EAAd;EACD;;EAED,OAAO,UAAUC,aAAV,EAAyB;IAC9B,IAAIC,UAAU,GAAGf,KAAK,CAACgB,UAAN,CAAiB,UAAUC,KAAV,EAAiBC,GAAjB,EAAsB;MACtD,OAAOlB,KAAK,CAACmB,aAAN,CAAoBb,iBAAiB,CAACc,QAAtC,EAAgD,IAAhD,EAAsD,UAAUC,OAAV,EAAmB;QAC9E,IAAIC,MAAM,GAAGf,WAAW,CAACM,WAAW,CAACU,GAAZ,CAAgB,UAAUC,GAAV,EAAe;UACtD,OAAOzB,IAAI,CAACsB,OAAO,IAAIjB,aAAZ,EAA2B,KAAKoB,GAAhC,CAAX;QACD,CAFwB,CAAD,CAAxB;;QAIA,IAAIH,OAAO,IAAI,OAAOA,OAAO,CAACI,GAAf,KAAuBC,SAAtC,EAAiD;UAC/CJ,MAAM,CAACG,GAAP,GAAaJ,OAAO,CAACI,GAArB;QACD,CAFD,MAEO,IAAI,OAAOE,MAAP,KAAkB,WAAlB,IAAiC,CAACC,QAAQ,CAACC,IAAT,CAAcC,YAAd,CAA2B,KAA3B,KAAqCF,QAAQ,CAACG,GAA/C,MAAwD,KAA7F,EAAoG;UACzGT,MAAM,CAACG,GAAP,GAAa,IAAb;QACD;;QAEDH,MAAM,CAACU,UAAP,GAAoB,CAACX,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACW,UAA3D,KAA0E7B,MAA9F;QACA,OAAOH,KAAK,CAACmB,aAAN,CAAoBL,aAApB,EAAmChB,QAAQ,CAAC;UACjDoB,GAAG,EAAEA,GAD4C;UAEjDI,MAAM,EAAEA;QAFyC,CAAD,EAG/CL,KAH+C,CAA3C,CAAP;MAID,CAhBM,CAAP;IAiBD,CAlBgB,CAAjB;IAmBAF,UAAU,CAACkB,WAAX,GAAyBnB,aAAa,CAACmB,WAAvC;IACA5B,kBAAkB,CAACU,UAAD,EAAaD,aAAb,EAA4B,CAAC,cAAD,CAA5B,CAAlB;;IAEA,IAAIoB,OAAO,CAACC,GAAR,CAAYC,OAAZ,KAAwB,MAA5B,EAAoC;MAClC,OAAOnC,cAAc,CAACC,eAAe,CAACY,aAAD,EAAgB,UAAhB,CAAhB,CAAd,CAA2DC,UAA3D,CAAP;IACD;;IAED,OAAOd,cAAc,CAACC,eAAe,CAACY,aAAD,EAAgB,YAAhB,CAAhB,CAAd,CAA6DC,UAA7D,CAAP;EACD,CA5BD;AA6BD;;AAED,eAAeH,UAAf"},"metadata":{},"sourceType":"module"}