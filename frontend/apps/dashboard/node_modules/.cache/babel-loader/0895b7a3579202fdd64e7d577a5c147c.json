{"ast":null,"code":"function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport on from './events/on';\nimport cancelAnimationFramePolyfill from './animation/cancelAnimationFramePolyfill';\nimport requestAnimationFramePolyfill from './animation/requestAnimationFramePolyfill';\n\nvar DOMMouseMoveTracker = /*#__PURE__*/function () {\n  /**\n   * onMove is the callback that will be called on every mouse move.\n   * onMoveEnd is called on mouse up when movement has ended.\n   */\n  function DOMMouseMoveTracker(onMove, onMoveEnd, domNode) {\n    var _this = this;\n\n    _defineProperty(this, \"isDraggingStatus\", false);\n\n    _defineProperty(this, \"animationFrameID\", null);\n\n    _defineProperty(this, \"domNode\", void 0);\n\n    _defineProperty(this, \"onMove\", void 0);\n\n    _defineProperty(this, \"onMoveEnd\", void 0);\n\n    _defineProperty(this, \"eventMoveToken\", null);\n\n    _defineProperty(this, \"eventUpToken\", null);\n\n    _defineProperty(this, \"moveEvent\", null);\n\n    _defineProperty(this, \"deltaX\", 0);\n\n    _defineProperty(this, \"deltaY\", 0);\n\n    _defineProperty(this, \"x\", 0);\n\n    _defineProperty(this, \"y\", 0);\n\n    _defineProperty(this, \"isDragging\", function () {\n      return _this.isDraggingStatus;\n    });\n\n    _defineProperty(this, \"onMouseMove\", function (event) {\n      var x = event.clientX;\n      var y = event.clientY;\n      _this.deltaX += x - _this.x;\n      _this.deltaY += y - _this.y;\n\n      if (_this.animationFrameID === null) {\n        // The mouse may move faster then the animation frame does.\n        // Use `requestAnimationFramePolyfill` to avoid over-updating.\n        _this.animationFrameID = requestAnimationFramePolyfill(_this.didMouseMove);\n      }\n\n      _this.x = x;\n      _this.y = y;\n      _this.moveEvent = event;\n      event.preventDefault();\n    });\n\n    _defineProperty(this, \"didMouseMove\", function () {\n      _this.animationFrameID = null;\n\n      _this.onMove(_this.deltaX, _this.deltaY, _this.moveEvent);\n\n      _this.deltaX = 0;\n      _this.deltaY = 0;\n    });\n\n    _defineProperty(this, \"onMouseUp\", function (event) {\n      if (_this.animationFrameID) {\n        _this.didMouseMove();\n      }\n\n      _this.onMoveEnd && _this.onMoveEnd(event);\n    });\n\n    this.domNode = domNode;\n    this.onMove = onMove;\n    this.onMoveEnd = onMoveEnd;\n  }\n  /**\n   * This is to set up the listeners for listening to mouse move\n   * and mouse up signaling the movement has ended. Please note that these\n   * listeners are added at the document.body level. It takes in an event\n   * in order to grab inital state.\n   */\n\n\n  var _proto = DOMMouseMoveTracker.prototype;\n\n  _proto.captureMouseMoves = function captureMouseMoves(event) {\n    if (!this.eventMoveToken && !this.eventUpToken) {\n      this.eventMoveToken = on(this.domNode, 'mousemove', this.onMouseMove);\n      this.eventUpToken = on(this.domNode, 'mouseup', this.onMouseUp);\n    }\n\n    if (!this.isDraggingStatus) {\n      this.deltaX = 0;\n      this.deltaY = 0;\n      this.isDraggingStatus = true;\n      this.x = event.clientX;\n      this.y = event.clientY;\n    }\n\n    event.preventDefault();\n  }\n  /**\n   * These releases all of the listeners on document.body.\n   */\n  ;\n\n  _proto.releaseMouseMoves = function releaseMouseMoves() {\n    if (this.eventMoveToken) {\n      this.eventMoveToken.off();\n      this.eventMoveToken = null;\n    }\n\n    if (this.eventUpToken) {\n      this.eventUpToken.off();\n      this.eventUpToken = null;\n    }\n\n    if (this.animationFrameID !== null) {\n      cancelAnimationFramePolyfill(this.animationFrameID);\n      this.animationFrameID = null;\n    }\n\n    if (this.isDraggingStatus) {\n      this.isDraggingStatus = false;\n      this.x = 0;\n      this.y = 0;\n    }\n  }\n  /**\n   * Returns whether or not if the mouse movement is being tracked.\n   */\n  ;\n\n  return DOMMouseMoveTracker;\n}();\n\nexport default DOMMouseMoveTracker;","map":{"version":3,"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","on","cancelAnimationFramePolyfill","requestAnimationFramePolyfill","DOMMouseMoveTracker","onMove","onMoveEnd","domNode","_this","isDraggingStatus","event","x","clientX","y","clientY","deltaX","deltaY","animationFrameID","didMouseMove","moveEvent","preventDefault","_proto","prototype","captureMouseMoves","eventMoveToken","eventUpToken","onMouseMove","onMouseUp","releaseMouseMoves","off"],"sources":["/Users/lixupeng/Local-Work/frontend/node_modules/dom-lib/es/DOMMouseMoveTracker.js"],"sourcesContent":["function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport on from './events/on';\nimport cancelAnimationFramePolyfill from './animation/cancelAnimationFramePolyfill';\nimport requestAnimationFramePolyfill from './animation/requestAnimationFramePolyfill';\n\nvar DOMMouseMoveTracker =\n/*#__PURE__*/\nfunction () {\n  /**\n   * onMove is the callback that will be called on every mouse move.\n   * onMoveEnd is called on mouse up when movement has ended.\n   */\n  function DOMMouseMoveTracker(onMove, onMoveEnd, domNode) {\n    var _this = this;\n\n    _defineProperty(this, \"isDraggingStatus\", false);\n\n    _defineProperty(this, \"animationFrameID\", null);\n\n    _defineProperty(this, \"domNode\", void 0);\n\n    _defineProperty(this, \"onMove\", void 0);\n\n    _defineProperty(this, \"onMoveEnd\", void 0);\n\n    _defineProperty(this, \"eventMoveToken\", null);\n\n    _defineProperty(this, \"eventUpToken\", null);\n\n    _defineProperty(this, \"moveEvent\", null);\n\n    _defineProperty(this, \"deltaX\", 0);\n\n    _defineProperty(this, \"deltaY\", 0);\n\n    _defineProperty(this, \"x\", 0);\n\n    _defineProperty(this, \"y\", 0);\n\n    _defineProperty(this, \"isDragging\", function () {\n      return _this.isDraggingStatus;\n    });\n\n    _defineProperty(this, \"onMouseMove\", function (event) {\n      var x = event.clientX;\n      var y = event.clientY;\n      _this.deltaX += x - _this.x;\n      _this.deltaY += y - _this.y;\n\n      if (_this.animationFrameID === null) {\n        // The mouse may move faster then the animation frame does.\n        // Use `requestAnimationFramePolyfill` to avoid over-updating.\n        _this.animationFrameID = requestAnimationFramePolyfill(_this.didMouseMove);\n      }\n\n      _this.x = x;\n      _this.y = y;\n      _this.moveEvent = event;\n      event.preventDefault();\n    });\n\n    _defineProperty(this, \"didMouseMove\", function () {\n      _this.animationFrameID = null;\n\n      _this.onMove(_this.deltaX, _this.deltaY, _this.moveEvent);\n\n      _this.deltaX = 0;\n      _this.deltaY = 0;\n    });\n\n    _defineProperty(this, \"onMouseUp\", function (event) {\n      if (_this.animationFrameID) {\n        _this.didMouseMove();\n      }\n\n      _this.onMoveEnd && _this.onMoveEnd(event);\n    });\n\n    this.domNode = domNode;\n    this.onMove = onMove;\n    this.onMoveEnd = onMoveEnd;\n  }\n  /**\n   * This is to set up the listeners for listening to mouse move\n   * and mouse up signaling the movement has ended. Please note that these\n   * listeners are added at the document.body level. It takes in an event\n   * in order to grab inital state.\n   */\n\n\n  var _proto = DOMMouseMoveTracker.prototype;\n\n  _proto.captureMouseMoves = function captureMouseMoves(event) {\n    if (!this.eventMoveToken && !this.eventUpToken) {\n      this.eventMoveToken = on(this.domNode, 'mousemove', this.onMouseMove);\n      this.eventUpToken = on(this.domNode, 'mouseup', this.onMouseUp);\n    }\n\n    if (!this.isDraggingStatus) {\n      this.deltaX = 0;\n      this.deltaY = 0;\n      this.isDraggingStatus = true;\n      this.x = event.clientX;\n      this.y = event.clientY;\n    }\n\n    event.preventDefault();\n  }\n  /**\n   * These releases all of the listeners on document.body.\n   */\n  ;\n\n  _proto.releaseMouseMoves = function releaseMouseMoves() {\n    if (this.eventMoveToken) {\n      this.eventMoveToken.off();\n      this.eventMoveToken = null;\n    }\n\n    if (this.eventUpToken) {\n      this.eventUpToken.off();\n      this.eventUpToken = null;\n    }\n\n    if (this.animationFrameID !== null) {\n      cancelAnimationFramePolyfill(this.animationFrameID);\n      this.animationFrameID = null;\n    }\n\n    if (this.isDraggingStatus) {\n      this.isDraggingStatus = false;\n      this.x = 0;\n      this.y = 0;\n    }\n  }\n  /**\n   * Returns whether or not if the mouse movement is being tracked.\n   */\n  ;\n\n  return DOMMouseMoveTracker;\n}();\n\nexport default DOMMouseMoveTracker;"],"mappings":"AAAA,SAASA,eAAT,CAAyBC,GAAzB,EAA8BC,GAA9B,EAAmCC,KAAnC,EAA0C;EAAE,IAAID,GAAG,IAAID,GAAX,EAAgB;IAAEG,MAAM,CAACC,cAAP,CAAsBJ,GAAtB,EAA2BC,GAA3B,EAAgC;MAAEC,KAAK,EAAEA,KAAT;MAAgBG,UAAU,EAAE,IAA5B;MAAkCC,YAAY,EAAE,IAAhD;MAAsDC,QAAQ,EAAE;IAAhE,CAAhC;EAA0G,CAA5H,MAAkI;IAAEP,GAAG,CAACC,GAAD,CAAH,GAAWC,KAAX;EAAmB;;EAAC,OAAOF,GAAP;AAAa;;AAEjN,OAAOQ,EAAP,MAAe,aAAf;AACA,OAAOC,4BAAP,MAAyC,0CAAzC;AACA,OAAOC,6BAAP,MAA0C,2CAA1C;;AAEA,IAAIC,mBAAmB,GACvB,aACA,YAAY;EACV;AACF;AACA;AACA;EACE,SAASA,mBAAT,CAA6BC,MAA7B,EAAqCC,SAArC,EAAgDC,OAAhD,EAAyD;IACvD,IAAIC,KAAK,GAAG,IAAZ;;IAEAhB,eAAe,CAAC,IAAD,EAAO,kBAAP,EAA2B,KAA3B,CAAf;;IAEAA,eAAe,CAAC,IAAD,EAAO,kBAAP,EAA2B,IAA3B,CAAf;;IAEAA,eAAe,CAAC,IAAD,EAAO,SAAP,EAAkB,KAAK,CAAvB,CAAf;;IAEAA,eAAe,CAAC,IAAD,EAAO,QAAP,EAAiB,KAAK,CAAtB,CAAf;;IAEAA,eAAe,CAAC,IAAD,EAAO,WAAP,EAAoB,KAAK,CAAzB,CAAf;;IAEAA,eAAe,CAAC,IAAD,EAAO,gBAAP,EAAyB,IAAzB,CAAf;;IAEAA,eAAe,CAAC,IAAD,EAAO,cAAP,EAAuB,IAAvB,CAAf;;IAEAA,eAAe,CAAC,IAAD,EAAO,WAAP,EAAoB,IAApB,CAAf;;IAEAA,eAAe,CAAC,IAAD,EAAO,QAAP,EAAiB,CAAjB,CAAf;;IAEAA,eAAe,CAAC,IAAD,EAAO,QAAP,EAAiB,CAAjB,CAAf;;IAEAA,eAAe,CAAC,IAAD,EAAO,GAAP,EAAY,CAAZ,CAAf;;IAEAA,eAAe,CAAC,IAAD,EAAO,GAAP,EAAY,CAAZ,CAAf;;IAEAA,eAAe,CAAC,IAAD,EAAO,YAAP,EAAqB,YAAY;MAC9C,OAAOgB,KAAK,CAACC,gBAAb;IACD,CAFc,CAAf;;IAIAjB,eAAe,CAAC,IAAD,EAAO,aAAP,EAAsB,UAAUkB,KAAV,EAAiB;MACpD,IAAIC,CAAC,GAAGD,KAAK,CAACE,OAAd;MACA,IAAIC,CAAC,GAAGH,KAAK,CAACI,OAAd;MACAN,KAAK,CAACO,MAAN,IAAgBJ,CAAC,GAAGH,KAAK,CAACG,CAA1B;MACAH,KAAK,CAACQ,MAAN,IAAgBH,CAAC,GAAGL,KAAK,CAACK,CAA1B;;MAEA,IAAIL,KAAK,CAACS,gBAAN,KAA2B,IAA/B,EAAqC;QACnC;QACA;QACAT,KAAK,CAACS,gBAAN,GAAyBd,6BAA6B,CAACK,KAAK,CAACU,YAAP,CAAtD;MACD;;MAEDV,KAAK,CAACG,CAAN,GAAUA,CAAV;MACAH,KAAK,CAACK,CAAN,GAAUA,CAAV;MACAL,KAAK,CAACW,SAAN,GAAkBT,KAAlB;MACAA,KAAK,CAACU,cAAN;IACD,CAhBc,CAAf;;IAkBA5B,eAAe,CAAC,IAAD,EAAO,cAAP,EAAuB,YAAY;MAChDgB,KAAK,CAACS,gBAAN,GAAyB,IAAzB;;MAEAT,KAAK,CAACH,MAAN,CAAaG,KAAK,CAACO,MAAnB,EAA2BP,KAAK,CAACQ,MAAjC,EAAyCR,KAAK,CAACW,SAA/C;;MAEAX,KAAK,CAACO,MAAN,GAAe,CAAf;MACAP,KAAK,CAACQ,MAAN,GAAe,CAAf;IACD,CAPc,CAAf;;IASAxB,eAAe,CAAC,IAAD,EAAO,WAAP,EAAoB,UAAUkB,KAAV,EAAiB;MAClD,IAAIF,KAAK,CAACS,gBAAV,EAA4B;QAC1BT,KAAK,CAACU,YAAN;MACD;;MAEDV,KAAK,CAACF,SAAN,IAAmBE,KAAK,CAACF,SAAN,CAAgBI,KAAhB,CAAnB;IACD,CANc,CAAf;;IAQA,KAAKH,OAAL,GAAeA,OAAf;IACA,KAAKF,MAAL,GAAcA,MAAd;IACA,KAAKC,SAAL,GAAiBA,SAAjB;EACD;EACD;AACF;AACA;AACA;AACA;AACA;;;EAGE,IAAIe,MAAM,GAAGjB,mBAAmB,CAACkB,SAAjC;;EAEAD,MAAM,CAACE,iBAAP,GAA2B,SAASA,iBAAT,CAA2Bb,KAA3B,EAAkC;IAC3D,IAAI,CAAC,KAAKc,cAAN,IAAwB,CAAC,KAAKC,YAAlC,EAAgD;MAC9C,KAAKD,cAAL,GAAsBvB,EAAE,CAAC,KAAKM,OAAN,EAAe,WAAf,EAA4B,KAAKmB,WAAjC,CAAxB;MACA,KAAKD,YAAL,GAAoBxB,EAAE,CAAC,KAAKM,OAAN,EAAe,SAAf,EAA0B,KAAKoB,SAA/B,CAAtB;IACD;;IAED,IAAI,CAAC,KAAKlB,gBAAV,EAA4B;MAC1B,KAAKM,MAAL,GAAc,CAAd;MACA,KAAKC,MAAL,GAAc,CAAd;MACA,KAAKP,gBAAL,GAAwB,IAAxB;MACA,KAAKE,CAAL,GAASD,KAAK,CAACE,OAAf;MACA,KAAKC,CAAL,GAASH,KAAK,CAACI,OAAf;IACD;;IAEDJ,KAAK,CAACU,cAAN;EACD;EACD;AACF;AACA;EAlBE;;EAqBAC,MAAM,CAACO,iBAAP,GAA2B,SAASA,iBAAT,GAA6B;IACtD,IAAI,KAAKJ,cAAT,EAAyB;MACvB,KAAKA,cAAL,CAAoBK,GAApB;MACA,KAAKL,cAAL,GAAsB,IAAtB;IACD;;IAED,IAAI,KAAKC,YAAT,EAAuB;MACrB,KAAKA,YAAL,CAAkBI,GAAlB;MACA,KAAKJ,YAAL,GAAoB,IAApB;IACD;;IAED,IAAI,KAAKR,gBAAL,KAA0B,IAA9B,EAAoC;MAClCf,4BAA4B,CAAC,KAAKe,gBAAN,CAA5B;MACA,KAAKA,gBAAL,GAAwB,IAAxB;IACD;;IAED,IAAI,KAAKR,gBAAT,EAA2B;MACzB,KAAKA,gBAAL,GAAwB,KAAxB;MACA,KAAKE,CAAL,GAAS,CAAT;MACA,KAAKE,CAAL,GAAS,CAAT;IACD;EACF;EACD;AACF;AACA;EAxBE;;EA2BA,OAAOT,mBAAP;AACD,CAtID,EAFA;;AA0IA,eAAeA,mBAAf"},"metadata":{},"sourceType":"module"}