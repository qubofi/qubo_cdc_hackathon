{"ast":null,"code":"import _uniq from \"lodash/uniq\";\nimport _remove from \"lodash/remove\";\nexport default function (props) {\n  var valueKey = props.valueKey,\n      childrenKey = props.childrenKey;\n  /**\n   * 获取一个节点的所有子节点的值\n   * @param {*} item\n   * @param {*} uncheckableItemValues\n   */\n\n  function getChildrenValue(item, uncheckableItemValues) {\n    var values = [];\n\n    if (!item[childrenKey]) {\n      return values;\n    }\n\n    item[childrenKey].forEach(function (n) {\n      if (uncheckableItemValues && !uncheckableItemValues.some(function (v) {\n        return v === n[valueKey];\n      })) {\n        values.push(n[valueKey]);\n      }\n\n      values = values.concat(getChildrenValue(n, uncheckableItemValues));\n    });\n    return values;\n  }\n  /**\n   * 获取一个节点的所有父辈节点\n   * @param {*} item\n   * @param {*} uncheckableItemValues\n   */\n\n\n  function getParents(item) {\n    var parents = [];\n\n    if (!item.parent) {\n      return parents;\n    }\n\n    parents.push(item.parent);\n    parents = parents.concat(getParents(item.parent));\n    return parents;\n  }\n  /**\n   * 删除一个节点下所有已选择的值\n   * @param {*} value\n   * @param {*} item\n   */\n\n\n  function removeAllChildrenValue(value, item) {\n    var removedValue = [];\n\n    if (!item[childrenKey]) {\n      return;\n    }\n\n    item[childrenKey].forEach(function (n) {\n      removedValue = removedValue.concat(_remove(value, function (v) {\n        return v === n[valueKey];\n      }));\n\n      if (n[childrenKey]) {\n        removeAllChildrenValue(value, n);\n      }\n    });\n    return removedValue;\n  }\n\n  function getOtherItemValuesByUnselectChild(itemNode, value) {\n    var parentValues = [];\n    var itemValues = []; // 通过 value 找到当前节点的父节点\n\n    function findParent(item) {\n      parentValues.push(item[valueKey]);\n\n      if (value.some(function (v) {\n        return v === item[valueKey];\n      })) {\n        return item;\n      }\n\n      if (item.parent) {\n        var p = findParent(item.parent);\n\n        if (p) {\n          return p;\n        }\n      }\n\n      return null;\n    } // 通过父节点获取子节点\n\n\n    function pushChildValue(item) {\n      if (!item[childrenKey]) {\n        return;\n      }\n\n      item[childrenKey].forEach(function (n) {\n        //判断是否是直属父级\n        if (parentValues.some(function (v) {\n          return v === n[valueKey];\n        }) && n[childrenKey]) {\n          pushChildValue(n);\n        } else if (n[valueKey] !== itemNode[valueKey]) {\n          itemValues.push(n[valueKey]);\n        }\n      });\n    }\n\n    var parent = findParent(itemNode);\n\n    if (!parent) {\n      return [];\n    }\n\n    pushChildValue(parent);\n    return itemValues;\n  }\n  /**\n   * 拆分值\n   * @param {*} item\n   * @param {*} checked\n   * @param {*} value\n   * @param {*} uncheckableItemValues\n   */\n\n\n  function splitValue(item, checked, value, uncheckableItemValues) {\n    if (uncheckableItemValues === void 0) {\n      uncheckableItemValues = [];\n    }\n\n    var itemValue = item[valueKey];\n    var childrenValue = getChildrenValue(item, uncheckableItemValues);\n    var parents = getParents(item);\n    var nextValue = [].concat(value);\n    var removedValue = [];\n\n    if (checked) {\n      nextValue.push(itemValue); // 删除当前节点下所有的值\n\n      removedValue = removedValue.concat(removeAllChildrenValue(nextValue, item));\n      /**\n       * 遍历当前节点所有祖宗节点\n       * 然后判断这些节点的子节点是否是否全部被选中，则自身也要被选中\n       */\n\n      var _loop = function _loop(i) {\n        // 父节点是否可以选择\n        var isCheckableParent = !uncheckableItemValues.some(function (v) {\n          return v === parents[i][valueKey];\n        });\n\n        if (isCheckableParent) {\n          var isCheckAll = parents[i][childrenKey] // 过滤掉被标识为不可选的选项\n          .filter(function (n) {\n            return !uncheckableItemValues.some(function (v) {\n              return v === n[valueKey];\n            });\n          }) // 检查是否所有节点都被选中\n          .every(function (n) {\n            return nextValue.some(function (v) {\n              return v === n[valueKey];\n            });\n          });\n\n          if (isCheckAll) {\n            // 添加父节点值\n            nextValue.push(parents[i][valueKey]); // 删除父节点下所有的值\n\n            removedValue = removedValue.concat(removeAllChildrenValue(nextValue, parents[i]));\n          }\n        }\n      };\n\n      for (var i = 0; i < parents.length; i++) {\n        _loop(i);\n      }\n    } else {\n      var tempValue = childrenValue.concat(parents.map(function (item) {\n        return item[valueKey];\n      }));\n      nextValue = nextValue.concat(getOtherItemValuesByUnselectChild(item, nextValue)); // 删除相关的子父节点\n\n      removedValue = _remove(nextValue, function (v) {\n        // 删除自己\n        if (v === itemValue) {\n          return true;\n        }\n\n        return tempValue.some(function (n) {\n          return n === v;\n        });\n      });\n    }\n\n    var uniqValue = _uniq(nextValue);\n\n    var uniqRemovedValue = _uniq(removedValue);\n\n    return {\n      value: uniqValue,\n      removedValue: uniqRemovedValue\n    };\n  }\n  /**\n   * 在 value 中的值存在级联的情况下\n   * 通过 value 重新计算出一个新的 value\n   */\n\n\n  function transformValue(value, flattenData, uncheckableItemValues) {\n    var tempRemovedValue = [];\n    var nextValue = [];\n\n    var _loop2 = function _loop2(i) {\n      // 如果当前 value 中的值已经在被删除列表中则不处理\n      if (tempRemovedValue.some(function (v) {\n        return v === value[i];\n      })) {\n        return \"continue\";\n      }\n\n      var item = flattenData.find(function (v) {\n        return v[valueKey] === value[i];\n      });\n\n      if (!item) {\n        return \"continue\";\n      }\n\n      var sv = splitValue(item, true, value, uncheckableItemValues);\n      tempRemovedValue = _uniq(tempRemovedValue.concat(sv.removedValue)); // 获取到所有相关的值\n\n      nextValue = _uniq(nextValue.concat(sv.value));\n    };\n\n    for (var i = 0; i < value.length; i++) {\n      var _ret = _loop2(i);\n\n      if (_ret === \"continue\") continue;\n    } // 最后遍历所有的 nextValue, 如果它的父节点也在nextValue则删除\n\n\n    return nextValue.filter(function (v) {\n      var item = flattenData.find(function (n) {\n        return n[valueKey] === v;\n      });\n\n      if ((item === null || item === void 0 ? void 0 : item.parent) && nextValue.some(function (v) {\n        return v === item.parent[valueKey];\n      })) {\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  function getItems(selectNode, flattenData) {\n    var items = [];\n\n    function findParent(item) {\n      if (item[childrenKey]) {\n        items.push(item[childrenKey]);\n      }\n\n      if (item.parent) {\n        findParent(item.parent);\n      }\n    }\n\n    if (selectNode) {\n      findParent(selectNode);\n    }\n\n    items.push(flattenData.filter(function (item) {\n      return item.parent === null;\n    }));\n    return items.reverse();\n  }\n\n  function isSomeChildChecked(node, value) {\n    if (value === void 0) {\n      value = [];\n    }\n\n    if (!node[childrenKey] || !value) {\n      return false;\n    }\n\n    return node[childrenKey].some(function (child) {\n      var _child$childrenKey;\n\n      if (value.some(function (n) {\n        return n === child[valueKey];\n      })) {\n        return true;\n      }\n\n      if ((_child$childrenKey = child[childrenKey]) === null || _child$childrenKey === void 0 ? void 0 : _child$childrenKey.length) {\n        return isSomeChildChecked(child, value);\n      }\n\n      return false;\n    });\n  }\n\n  function isSomeParentChecked(node, value) {\n    if (value === void 0) {\n      value = [];\n    }\n\n    if (!value) {\n      return false;\n    }\n\n    if (value.some(function (n) {\n      return n === node[valueKey];\n    })) {\n      return true;\n    }\n\n    if (node.parent) {\n      return isSomeParentChecked(node.parent, value);\n    }\n\n    return false;\n  }\n\n  return {\n    removeAllChildrenValue: removeAllChildrenValue,\n    getChildrenValue: getChildrenValue,\n    splitValue: splitValue,\n    transformValue: transformValue,\n    getOtherItemValuesByUnselectChild: getOtherItemValuesByUnselectChild,\n    getItems: getItems,\n    isSomeChildChecked: isSomeChildChecked,\n    isSomeParentChecked: isSomeParentChecked\n  };\n}","map":{"version":3,"names":["_uniq","_remove","props","valueKey","childrenKey","getChildrenValue","item","uncheckableItemValues","values","forEach","n","some","v","push","concat","getParents","parents","parent","removeAllChildrenValue","value","removedValue","getOtherItemValuesByUnselectChild","itemNode","parentValues","itemValues","findParent","p","pushChildValue","splitValue","checked","itemValue","childrenValue","nextValue","_loop","i","isCheckableParent","isCheckAll","filter","every","length","tempValue","map","uniqValue","uniqRemovedValue","transformValue","flattenData","tempRemovedValue","_loop2","find","sv","_ret","getItems","selectNode","items","reverse","isSomeChildChecked","node","child","_child$childrenKey","isSomeParentChecked"],"sources":["/Users/lixupeng/Local-Work/frontend/node_modules/rsuite/es/MultiCascader/utils.js"],"sourcesContent":["import _uniq from \"lodash/uniq\";\nimport _remove from \"lodash/remove\";\nexport default function (props) {\n  var valueKey = props.valueKey,\n      childrenKey = props.childrenKey;\n  /**\n   * 获取一个节点的所有子节点的值\n   * @param {*} item\n   * @param {*} uncheckableItemValues\n   */\n\n  function getChildrenValue(item, uncheckableItemValues) {\n    var values = [];\n\n    if (!item[childrenKey]) {\n      return values;\n    }\n\n    item[childrenKey].forEach(function (n) {\n      if (uncheckableItemValues && !uncheckableItemValues.some(function (v) {\n        return v === n[valueKey];\n      })) {\n        values.push(n[valueKey]);\n      }\n\n      values = values.concat(getChildrenValue(n, uncheckableItemValues));\n    });\n    return values;\n  }\n  /**\n   * 获取一个节点的所有父辈节点\n   * @param {*} item\n   * @param {*} uncheckableItemValues\n   */\n\n\n  function getParents(item) {\n    var parents = [];\n\n    if (!item.parent) {\n      return parents;\n    }\n\n    parents.push(item.parent);\n    parents = parents.concat(getParents(item.parent));\n    return parents;\n  }\n  /**\n   * 删除一个节点下所有已选择的值\n   * @param {*} value\n   * @param {*} item\n   */\n\n\n  function removeAllChildrenValue(value, item) {\n    var removedValue = [];\n\n    if (!item[childrenKey]) {\n      return;\n    }\n\n    item[childrenKey].forEach(function (n) {\n      removedValue = removedValue.concat(_remove(value, function (v) {\n        return v === n[valueKey];\n      }));\n\n      if (n[childrenKey]) {\n        removeAllChildrenValue(value, n);\n      }\n    });\n    return removedValue;\n  }\n\n  function getOtherItemValuesByUnselectChild(itemNode, value) {\n    var parentValues = [];\n    var itemValues = []; // 通过 value 找到当前节点的父节点\n\n    function findParent(item) {\n      parentValues.push(item[valueKey]);\n\n      if (value.some(function (v) {\n        return v === item[valueKey];\n      })) {\n        return item;\n      }\n\n      if (item.parent) {\n        var p = findParent(item.parent);\n\n        if (p) {\n          return p;\n        }\n      }\n\n      return null;\n    } // 通过父节点获取子节点\n\n\n    function pushChildValue(item) {\n      if (!item[childrenKey]) {\n        return;\n      }\n\n      item[childrenKey].forEach(function (n) {\n        //判断是否是直属父级\n        if (parentValues.some(function (v) {\n          return v === n[valueKey];\n        }) && n[childrenKey]) {\n          pushChildValue(n);\n        } else if (n[valueKey] !== itemNode[valueKey]) {\n          itemValues.push(n[valueKey]);\n        }\n      });\n    }\n\n    var parent = findParent(itemNode);\n\n    if (!parent) {\n      return [];\n    }\n\n    pushChildValue(parent);\n    return itemValues;\n  }\n  /**\n   * 拆分值\n   * @param {*} item\n   * @param {*} checked\n   * @param {*} value\n   * @param {*} uncheckableItemValues\n   */\n\n\n  function splitValue(item, checked, value, uncheckableItemValues) {\n    if (uncheckableItemValues === void 0) {\n      uncheckableItemValues = [];\n    }\n\n    var itemValue = item[valueKey];\n    var childrenValue = getChildrenValue(item, uncheckableItemValues);\n    var parents = getParents(item);\n    var nextValue = [].concat(value);\n    var removedValue = [];\n\n    if (checked) {\n      nextValue.push(itemValue); // 删除当前节点下所有的值\n\n      removedValue = removedValue.concat(removeAllChildrenValue(nextValue, item));\n      /**\n       * 遍历当前节点所有祖宗节点\n       * 然后判断这些节点的子节点是否是否全部被选中，则自身也要被选中\n       */\n\n      var _loop = function _loop(i) {\n        // 父节点是否可以选择\n        var isCheckableParent = !uncheckableItemValues.some(function (v) {\n          return v === parents[i][valueKey];\n        });\n\n        if (isCheckableParent) {\n          var isCheckAll = parents[i][childrenKey] // 过滤掉被标识为不可选的选项\n          .filter(function (n) {\n            return !uncheckableItemValues.some(function (v) {\n              return v === n[valueKey];\n            });\n          }) // 检查是否所有节点都被选中\n          .every(function (n) {\n            return nextValue.some(function (v) {\n              return v === n[valueKey];\n            });\n          });\n\n          if (isCheckAll) {\n            // 添加父节点值\n            nextValue.push(parents[i][valueKey]); // 删除父节点下所有的值\n\n            removedValue = removedValue.concat(removeAllChildrenValue(nextValue, parents[i]));\n          }\n        }\n      };\n\n      for (var i = 0; i < parents.length; i++) {\n        _loop(i);\n      }\n    } else {\n      var tempValue = childrenValue.concat(parents.map(function (item) {\n        return item[valueKey];\n      }));\n      nextValue = nextValue.concat(getOtherItemValuesByUnselectChild(item, nextValue)); // 删除相关的子父节点\n\n      removedValue = _remove(nextValue, function (v) {\n        // 删除自己\n        if (v === itemValue) {\n          return true;\n        }\n\n        return tempValue.some(function (n) {\n          return n === v;\n        });\n      });\n    }\n\n    var uniqValue = _uniq(nextValue);\n\n    var uniqRemovedValue = _uniq(removedValue);\n\n    return {\n      value: uniqValue,\n      removedValue: uniqRemovedValue\n    };\n  }\n  /**\n   * 在 value 中的值存在级联的情况下\n   * 通过 value 重新计算出一个新的 value\n   */\n\n\n  function transformValue(value, flattenData, uncheckableItemValues) {\n    var tempRemovedValue = [];\n    var nextValue = [];\n\n    var _loop2 = function _loop2(i) {\n      // 如果当前 value 中的值已经在被删除列表中则不处理\n      if (tempRemovedValue.some(function (v) {\n        return v === value[i];\n      })) {\n        return \"continue\";\n      }\n\n      var item = flattenData.find(function (v) {\n        return v[valueKey] === value[i];\n      });\n\n      if (!item) {\n        return \"continue\";\n      }\n\n      var sv = splitValue(item, true, value, uncheckableItemValues);\n      tempRemovedValue = _uniq(tempRemovedValue.concat(sv.removedValue)); // 获取到所有相关的值\n\n      nextValue = _uniq(nextValue.concat(sv.value));\n    };\n\n    for (var i = 0; i < value.length; i++) {\n      var _ret = _loop2(i);\n\n      if (_ret === \"continue\") continue;\n    } // 最后遍历所有的 nextValue, 如果它的父节点也在nextValue则删除\n\n\n    return nextValue.filter(function (v) {\n      var item = flattenData.find(function (n) {\n        return n[valueKey] === v;\n      });\n\n      if ((item === null || item === void 0 ? void 0 : item.parent) && nextValue.some(function (v) {\n        return v === item.parent[valueKey];\n      })) {\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  function getItems(selectNode, flattenData) {\n    var items = [];\n\n    function findParent(item) {\n      if (item[childrenKey]) {\n        items.push(item[childrenKey]);\n      }\n\n      if (item.parent) {\n        findParent(item.parent);\n      }\n    }\n\n    if (selectNode) {\n      findParent(selectNode);\n    }\n\n    items.push(flattenData.filter(function (item) {\n      return item.parent === null;\n    }));\n    return items.reverse();\n  }\n\n  function isSomeChildChecked(node, value) {\n    if (value === void 0) {\n      value = [];\n    }\n\n    if (!node[childrenKey] || !value) {\n      return false;\n    }\n\n    return node[childrenKey].some(function (child) {\n      var _child$childrenKey;\n\n      if (value.some(function (n) {\n        return n === child[valueKey];\n      })) {\n        return true;\n      }\n\n      if ((_child$childrenKey = child[childrenKey]) === null || _child$childrenKey === void 0 ? void 0 : _child$childrenKey.length) {\n        return isSomeChildChecked(child, value);\n      }\n\n      return false;\n    });\n  }\n\n  function isSomeParentChecked(node, value) {\n    if (value === void 0) {\n      value = [];\n    }\n\n    if (!value) {\n      return false;\n    }\n\n    if (value.some(function (n) {\n      return n === node[valueKey];\n    })) {\n      return true;\n    }\n\n    if (node.parent) {\n      return isSomeParentChecked(node.parent, value);\n    }\n\n    return false;\n  }\n\n  return {\n    removeAllChildrenValue: removeAllChildrenValue,\n    getChildrenValue: getChildrenValue,\n    splitValue: splitValue,\n    transformValue: transformValue,\n    getOtherItemValuesByUnselectChild: getOtherItemValuesByUnselectChild,\n    getItems: getItems,\n    isSomeChildChecked: isSomeChildChecked,\n    isSomeParentChecked: isSomeParentChecked\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}