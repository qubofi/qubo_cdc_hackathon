{"ast":null,"code":"import { addClass, removeClass, addStyle, getStyle, getScrollbarSize, isOverflowing } from 'dom-lib';\n\nfunction findIndexOf(arr, cb) {\n  var index = -1;\n  arr.some(function (d, i) {\n    if (cb(d, i)) {\n      index = i;\n      return true;\n    }\n\n    return false;\n  });\n  return index;\n}\n\nfunction findContainer(data, modal) {\n  return findIndexOf(data, function (d) {\n    return d.modals.indexOf(modal) !== -1;\n  });\n}\n\nvar ModalManager = /*#__PURE__*/function () {\n  function ModalManager(hideSiblingNodes) {\n    if (hideSiblingNodes === void 0) {\n      hideSiblingNodes = true;\n    }\n\n    this.hideSiblingNodes = null;\n    this.modals = [];\n    this.containers = [];\n    this.data = [];\n    this.hideSiblingNodes = hideSiblingNodes;\n    this.modals = [];\n    this.containers = [];\n    this.data = [];\n  }\n\n  var _proto = ModalManager.prototype;\n\n  _proto.add = function add(modal, container, className) {\n    var modalIndex = this.modals.indexOf(modal);\n    var containerIndex = this.containers.indexOf(container);\n\n    if (modalIndex !== -1) {\n      return modalIndex;\n    }\n\n    modalIndex = this.modals.length;\n    this.modals.push(modal);\n\n    if (containerIndex !== -1) {\n      this.data[containerIndex].modals.push(modal);\n      return modalIndex;\n    }\n\n    var data = {\n      modals: [modal],\n      classes: className ? className.split(/\\s+/) : [],\n      style: {\n        overflow: container.style.overflow,\n        paddingRight: container.style.paddingRight\n      },\n      overflowing: isOverflowing(container)\n    };\n\n    if (data.overflowing) {\n      var style = {\n        paddingRight: parseInt(getStyle(container, 'paddingRight') || 0, 10) + getScrollbarSize() + 'px'\n      };\n      addStyle(container, style);\n    }\n\n    data.classes.forEach(addClass.bind(null, container));\n    this.containers.push(container);\n    this.data.push(data);\n    return modalIndex;\n  };\n\n  _proto.remove = function remove(modal) {\n    var modalIndex = this.modals.indexOf(modal);\n\n    if (modalIndex === -1) {\n      return;\n    }\n\n    var containerIndex = findContainer(this.data, modal);\n    var data = this.data[containerIndex];\n    var container = this.containers[containerIndex];\n    data.modals.splice(data.modals.indexOf(modal), 1);\n    this.modals.splice(modalIndex, 1);\n\n    if (data.modals.length === 0) {\n      Object.keys(data.style).forEach(function (key) {\n        return container.style[key] = data.style[key];\n      });\n      data.classes.forEach(removeClass.bind(null, container));\n      this.containers.splice(containerIndex, 1);\n      this.data.splice(containerIndex, 1);\n    }\n  };\n\n  _proto.isTopModal = function isTopModal(modal) {\n    return !!this.modals.length && this.modals[this.modals.length - 1] === modal;\n  };\n\n  return ModalManager;\n}();\n\nexport default ModalManager;","map":{"version":3,"names":["addClass","removeClass","addStyle","getStyle","getScrollbarSize","isOverflowing","findIndexOf","arr","cb","index","some","d","i","findContainer","data","modal","modals","indexOf","ModalManager","hideSiblingNodes","containers","_proto","prototype","add","container","className","modalIndex","containerIndex","length","push","classes","split","style","overflow","paddingRight","overflowing","parseInt","forEach","bind","remove","splice","Object","keys","key","isTopModal"],"sources":["/Users/lixupeng/Local-Work/frontend/node_modules/rsuite/es/Modal/ModalManager.js"],"sourcesContent":["import { addClass, removeClass, addStyle, getStyle, getScrollbarSize, isOverflowing } from 'dom-lib';\n\nfunction findIndexOf(arr, cb) {\n  var index = -1;\n  arr.some(function (d, i) {\n    if (cb(d, i)) {\n      index = i;\n      return true;\n    }\n\n    return false;\n  });\n  return index;\n}\n\nfunction findContainer(data, modal) {\n  return findIndexOf(data, function (d) {\n    return d.modals.indexOf(modal) !== -1;\n  });\n}\n\nvar ModalManager =\n/*#__PURE__*/\nfunction () {\n  function ModalManager(hideSiblingNodes) {\n    if (hideSiblingNodes === void 0) {\n      hideSiblingNodes = true;\n    }\n\n    this.hideSiblingNodes = null;\n    this.modals = [];\n    this.containers = [];\n    this.data = [];\n    this.hideSiblingNodes = hideSiblingNodes;\n    this.modals = [];\n    this.containers = [];\n    this.data = [];\n  }\n\n  var _proto = ModalManager.prototype;\n\n  _proto.add = function add(modal, container, className) {\n    var modalIndex = this.modals.indexOf(modal);\n    var containerIndex = this.containers.indexOf(container);\n\n    if (modalIndex !== -1) {\n      return modalIndex;\n    }\n\n    modalIndex = this.modals.length;\n    this.modals.push(modal);\n\n    if (containerIndex !== -1) {\n      this.data[containerIndex].modals.push(modal);\n      return modalIndex;\n    }\n\n    var data = {\n      modals: [modal],\n      classes: className ? className.split(/\\s+/) : [],\n      style: {\n        overflow: container.style.overflow,\n        paddingRight: container.style.paddingRight\n      },\n      overflowing: isOverflowing(container)\n    };\n\n    if (data.overflowing) {\n      var style = {\n        paddingRight: parseInt(getStyle(container, 'paddingRight') || 0, 10) + getScrollbarSize() + 'px'\n      };\n      addStyle(container, style);\n    }\n\n    data.classes.forEach(addClass.bind(null, container));\n    this.containers.push(container);\n    this.data.push(data);\n    return modalIndex;\n  };\n\n  _proto.remove = function remove(modal) {\n    var modalIndex = this.modals.indexOf(modal);\n\n    if (modalIndex === -1) {\n      return;\n    }\n\n    var containerIndex = findContainer(this.data, modal);\n    var data = this.data[containerIndex];\n    var container = this.containers[containerIndex];\n    data.modals.splice(data.modals.indexOf(modal), 1);\n    this.modals.splice(modalIndex, 1);\n\n    if (data.modals.length === 0) {\n      Object.keys(data.style).forEach(function (key) {\n        return container.style[key] = data.style[key];\n      });\n      data.classes.forEach(removeClass.bind(null, container));\n      this.containers.splice(containerIndex, 1);\n      this.data.splice(containerIndex, 1);\n    }\n  };\n\n  _proto.isTopModal = function isTopModal(modal) {\n    return !!this.modals.length && this.modals[this.modals.length - 1] === modal;\n  };\n\n  return ModalManager;\n}();\n\nexport default ModalManager;"],"mappings":"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"},"metadata":{},"sourceType":"module"}