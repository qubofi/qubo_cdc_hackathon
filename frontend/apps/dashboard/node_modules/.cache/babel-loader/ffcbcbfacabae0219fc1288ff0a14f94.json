{"ast":null,"code":"import _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport * as React from 'react';\nimport { on, contains } from 'dom-lib';\nimport getDOMNode from '../utils/getDOMNode';\n\nfunction isLeftClickEvent(event) {\n  return (event === null || event === void 0 ? void 0 : event.button) === 0;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || (event === null || event === void 0 ? void 0 : event.shiftKey));\n}\n\nvar RootCloseWrapper = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(RootCloseWrapper, _React$Component);\n\n  function RootCloseWrapper(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.onDocumentClickListener = null;\n    _this.onDocumentKeyupListener = null;\n    _this.childRef = void 0;\n\n    _this.handleDocumentClick = function (event) {\n      var _this$props$onRootClo, _this$props;\n\n      if (contains(getDOMNode(_this.childRef.current || _assertThisInitialized(_this)), event.target)) {\n        return;\n      }\n\n      if (isModifiedEvent(event) || !isLeftClickEvent(event)) {\n        return;\n      }\n\n      var target = _this.props.target;\n\n      if (target) {\n        if (contains(target(), event.target)) {\n          return;\n        }\n      }\n\n      (_this$props$onRootClo = (_this$props = _this.props).onRootClose) === null || _this$props$onRootClo === void 0 ? void 0 : _this$props$onRootClo.call(_this$props, event);\n    };\n\n    _this.handleDocumentKeyUp = function (event) {\n      if (event.keyCode === 27) {\n        var _this$props$onRootClo2, _this$props2;\n\n        (_this$props$onRootClo2 = (_this$props2 = _this.props).onRootClose) === null || _this$props$onRootClo2 === void 0 ? void 0 : _this$props$onRootClo2.call(_this$props2, event);\n      }\n    };\n\n    _this.childRef = React.createRef();\n    return _this;\n  }\n\n  var _proto = RootCloseWrapper.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var doc = window.document;\n    this.onDocumentClickListener = on(doc, 'click', this.handleDocumentClick, true);\n    this.onDocumentKeyupListener = on(doc, 'keyup', this.handleDocumentKeyUp);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var _this$onDocumentClick, _this$onDocumentKeyup;\n\n    (_this$onDocumentClick = this.onDocumentClickListener) === null || _this$onDocumentClick === void 0 ? void 0 : _this$onDocumentClick.off();\n    (_this$onDocumentKeyup = this.onDocumentKeyupListener) === null || _this$onDocumentKeyup === void 0 ? void 0 : _this$onDocumentKeyup.off();\n  };\n\n  _proto.render = function render() {\n    var children = this.props.children;\n\n    if (typeof children === 'function') {\n      return children({}, this.childRef);\n    }\n\n    return children;\n  };\n\n  return RootCloseWrapper;\n}(React.Component);\n\nexport default RootCloseWrapper;","map":{"version":3,"names":["_assertThisInitialized","_inheritsLoose","React","on","contains","getDOMNode","isLeftClickEvent","event","button","isModifiedEvent","metaKey","altKey","ctrlKey","shiftKey","RootCloseWrapper","_React$Component","props","_this","call","onDocumentClickListener","onDocumentKeyupListener","childRef","handleDocumentClick","_this$props$onRootClo","_this$props","current","target","onRootClose","handleDocumentKeyUp","keyCode","_this$props$onRootClo2","_this$props2","createRef","_proto","prototype","componentDidMount","doc","window","document","componentWillUnmount","_this$onDocumentClick","_this$onDocumentKeyup","off","render","children","Component"],"sources":["/Users/lixupeng/Local-Work/frontend/node_modules/rsuite/es/Overlay/RootCloseWrapper.js"],"sourcesContent":["import _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport * as React from 'react';\nimport { on, contains } from 'dom-lib';\nimport getDOMNode from '../utils/getDOMNode';\n\nfunction isLeftClickEvent(event) {\n  return (event === null || event === void 0 ? void 0 : event.button) === 0;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || (event === null || event === void 0 ? void 0 : event.shiftKey));\n}\n\nvar RootCloseWrapper =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(RootCloseWrapper, _React$Component);\n\n  function RootCloseWrapper(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.onDocumentClickListener = null;\n    _this.onDocumentKeyupListener = null;\n    _this.childRef = void 0;\n\n    _this.handleDocumentClick = function (event) {\n      var _this$props$onRootClo, _this$props;\n\n      if (contains(getDOMNode(_this.childRef.current || _assertThisInitialized(_this)), event.target)) {\n        return;\n      }\n\n      if (isModifiedEvent(event) || !isLeftClickEvent(event)) {\n        return;\n      }\n\n      var target = _this.props.target;\n\n      if (target) {\n        if (contains(target(), event.target)) {\n          return;\n        }\n      }\n\n      (_this$props$onRootClo = (_this$props = _this.props).onRootClose) === null || _this$props$onRootClo === void 0 ? void 0 : _this$props$onRootClo.call(_this$props, event);\n    };\n\n    _this.handleDocumentKeyUp = function (event) {\n      if (event.keyCode === 27) {\n        var _this$props$onRootClo2, _this$props2;\n\n        (_this$props$onRootClo2 = (_this$props2 = _this.props).onRootClose) === null || _this$props$onRootClo2 === void 0 ? void 0 : _this$props$onRootClo2.call(_this$props2, event);\n      }\n    };\n\n    _this.childRef = React.createRef();\n    return _this;\n  }\n\n  var _proto = RootCloseWrapper.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var doc = window.document;\n    this.onDocumentClickListener = on(doc, 'click', this.handleDocumentClick, true);\n    this.onDocumentKeyupListener = on(doc, 'keyup', this.handleDocumentKeyUp);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var _this$onDocumentClick, _this$onDocumentKeyup;\n\n    (_this$onDocumentClick = this.onDocumentClickListener) === null || _this$onDocumentClick === void 0 ? void 0 : _this$onDocumentClick.off();\n    (_this$onDocumentKeyup = this.onDocumentKeyupListener) === null || _this$onDocumentKeyup === void 0 ? void 0 : _this$onDocumentKeyup.off();\n  };\n\n  _proto.render = function render() {\n    var children = this.props.children;\n\n    if (typeof children === 'function') {\n      return children({}, this.childRef);\n    }\n\n    return children;\n  };\n\n  return RootCloseWrapper;\n}(React.Component);\n\nexport default RootCloseWrapper;"],"mappings":"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"},"metadata":{},"sourceType":"module"}